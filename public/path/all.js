window.Modernizr=function(ad,ac,ab){function O(f,e){var h=f.charAt(0).toUpperCase()+f.substr(1),g=(f+" "+Q.join(h+" ")+h).split(" ");return C(g,e)}function C(e,c){for(var f in e){if(T[e[f]]!==ab){return c=="pfx"?e[f]:!0}}return !1}function D(d,c){return !!~(""+d).indexOf(c)}function E(d,c){return typeof d===c}function F(d,c){return G(prefixes.join(d+";")+(c||""))}function G(b){T.cssText=b}var aa="2.0.6",Z={},Y=!0,X=ac.documentElement,W=ac.head||ac.getElementsByTagName("head")[0],V="modernizr",U=ac.createElement(V),T=U.style,S,R=Object.prototype.toString,Q="Webkit Moz O ms Khtml".split(" "),P={},N={},M={},K=[],J,I={}.hasOwnProperty,H;!E(I,ab)&&!E(I.call,ab)?H=function(d,c){return I.call(d,c)}:H=function(d,c){return c in d&&E(d.constructor.prototype[c],ab)},P.history=function(){return !!ad.history&&!!history.pushState},P.backgroundsize=function(){return O("backgroundSize")},P.video=function(){var b=ac.createElement("video"),h=!1;try{if(h=!!b.canPlayType){h=new Boolean(h),h.ogg=b.canPlayType('video/ogg; codecs="theora"');var g='video/mp4; codecs="avc1.42E01E';h.h264=b.canPlayType(g+'"')||b.canPlayType(g+', mp4a.40.2"'),h.webm=b.canPlayType('video/webm; codecs="vp8, vorbis"')}}catch(f){}return h},P.audio=function(){var b=ac.createElement("audio"),f=!1;try{if(f=!!b.canPlayType){f=new Boolean(f),f.ogg=b.canPlayType('audio/ogg; codecs="vorbis"'),f.mp3=b.canPlayType("audio/mpeg;"),f.wav=b.canPlayType('audio/wav; codecs="1"'),f.m4a=b.canPlayType("audio/x-m4a;")||b.canPlayType("audio/aac;")}}catch(e){}return f};for(var L in P){H(P,L)&&(J=L.toLowerCase(),Z[J]=P[L](),K.push((Z[J]?"":"no-")+J))}G(""),U=S=null,Z._version=aa,Z._domPrefixes=Q,Z.testProp=function(b){return C([b])},Z.testAllProps=O,X.className=X.className.replace(/\bno-js\b/,"")+(Y?" js "+K.join(" "):"");return Z}(this,this.document);
/*! jQuery v1.6.3 http://jquery.com/ | http://jquery.org/license */
/*!
 * jQuery Form Plugin
 * version: 2.87 (20-OCT-2011)
 * @requires jQuery v1.3.2 or later
 *
 * Examples and documentation at: http://malsup.com/jquery/form/
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 */
(function(b){b.fn.ajaxSubmit=function(d){if(!this.length){a("ajaxSubmit: skipping submit process - no element selected");return this}var c,r,f,h=this;if(typeof d=="function"){d={success:d}}c=this.attr("method");r=this.attr("action");f=(typeof r==="string")?b.trim(r):"";f=f||window.location.href||"";if(f){f=(f.match(/^([^#]+)/)||[])[1]}d=b.extend(true,{url:f,success:b.ajaxSettings.success,type:c||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},d);var l={};this.trigger("form-pre-serialize",[this,d,l]);if(l.veto){a("ajaxSubmit: submit vetoed via form-pre-serialize trigger");return this}if(d.beforeSerialize&&d.beforeSerialize(this,d)===false){a("ajaxSubmit: submit aborted via beforeSerialize callback");return this}var g=d.traditional;if(g===undefined){g=b.ajaxSettings.traditional}var w,p,k,x=this.formToArray(d.semantic);if(d.data){d.extraData=d.data;w=b.param(d.data,g)}if(d.beforeSubmit&&d.beforeSubmit(x,this,d)===false){a("ajaxSubmit: submit aborted via beforeSubmit callback");return this}this.trigger("form-submit-validate",[x,this,d,l]);if(l.veto){a("ajaxSubmit: submit vetoed via form-submit-validate trigger");return this}var o=b.param(x,g);if(w){o=(o?(o+"&"+w):w)}if(d.type.toUpperCase()=="GET"){d.url+=(d.url.indexOf("?")>=0?"&":"?")+o;d.data=null}else{d.data=o}var y=[];if(d.resetForm){y.push(function(){h.resetForm()})}if(d.clearForm){y.push(function(){h.clearForm(d.includeHidden)})}if(!d.dataType&&d.target){var e=d.success||function(){};y.push(function(q){var n=d.replaceTarget?"replaceWith":"html";b(d.target)[n](q).each(e,arguments)})}else{if(d.success){y.push(d.success)}}d.success=function(A,q,B){var z=d.context||d;for(var v=0,n=y.length;v<n;v++){y[v].apply(z,[A,q,B||h,h])}};var t=b("input:file",this).length>0;var s="multipart/form-data";var m=(h.attr("enctype")==s||h.attr("encoding")==s);if(d.iframe!==false&&(t||d.iframe||m)){if(d.closeKeepAlive){b.get(d.closeKeepAlive,function(){j(x)})}else{j(x)}}else{if(b.browser.msie&&c=="get"&&typeof d.type==="undefined"){var u=h[0].getAttribute("method");if(typeof u==="string"){d.type=u}}b.ajax(d)}this.trigger("form-submit-notify",[this,d]);return this;function j(V){var A=h[0],z,R,L,T,O,C,G,E,F,P,S,J;var D=!!b.fn.prop;if(V){if(D){for(R=0;R<V.length;R++){z=b(A[V[R].name]);z.prop("disabled",false)}}else{for(R=0;R<V.length;R++){z=b(A[V[R].name]);z.removeAttr("disabled")}}}if(b(":input[name=submit],:input[id=submit]",A).length){alert('Error: Form elements must not have name or id of "submit".');return}L=b.extend(true,{},b.ajaxSettings,d);L.context=L.context||L;O="jqFormIO"+(new Date().getTime());if(L.iframeTarget){C=b(L.iframeTarget);P=C.attr("name");if(P==null){C.attr("name",O)}else{O=P}}else{C=b('<iframe name="'+O+'" src="'+L.iframeSrc+'" />');C.css({position:"absolute",top:"-1000px",left:"-1000px"})}G=C[0];E={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(n){var Y=(n==="timeout"?"timeout":"aborted");a("aborting upload... "+Y);this.aborted=1;C.attr("src",L.iframeSrc);E.error=Y;L.error&&L.error.call(L.context,E,Y,n);T&&b.event.trigger("ajaxError",[E,L,Y]);L.complete&&L.complete.call(L.context,E,Y)}};T=L.global;if(T&&!b.active++){b.event.trigger("ajaxStart")}if(T){b.event.trigger("ajaxSend",[E,L])}if(L.beforeSend&&L.beforeSend.call(L.context,E,L)===false){if(L.global){b.active--}return}if(E.aborted){return}F=A.clk;if(F){P=F.name;if(P&&!F.disabled){L.extraData=L.extraData||{};L.extraData[P]=F.value;if(F.type=="image"){L.extraData[P+".x"]=A.clk_x;L.extraData[P+".y"]=A.clk_y}}}var K=1;var H=2;function I(Y){var n=Y.contentWindow?Y.contentWindow.document:Y.contentDocument?Y.contentDocument:Y.document;return n}function Q(){var aa=h.attr("target"),Y=h.attr("action");A.setAttribute("target",O);if(!c){A.setAttribute("method","POST")}if(Y!=L.url){A.setAttribute("action",L.url)}if(!L.skipEncodingOverride&&(!c||/post/i.test(c))){h.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"})}if(L.timeout){J=setTimeout(function(){S=true;N(K)},L.timeout)}function ab(){try{var n=I(G).readyState;a("state = "+n);if(n.toLowerCase()=="uninitialized"){setTimeout(ab,50)}}catch(ad){a("Server abort: ",ad," (",ad.name,")");N(H);J&&clearTimeout(J);J=undefined}}var Z=[];try{if(L.extraData){for(var ac in L.extraData){Z.push(b('<input type="hidden" name="'+ac+'" />').attr("value",L.extraData[ac]).appendTo(A)[0])}}if(!L.iframeTarget){C.appendTo("body");G.attachEvent?G.attachEvent("onload",N):G.addEventListener("load",N,false)}setTimeout(ab,15);A.submit()}finally{A.setAttribute("action",Y);if(aa){A.setAttribute("target",aa)}else{h.removeAttr("target")}b(Z).remove()}}if(L.forceSync){Q()}else{setTimeout(Q,10)}var W,X,U=50,B;function N(ac){if(E.aborted||B){return}try{X=I(G)}catch(af){a("cannot access response document: ",af);ac=H}if(ac===K&&E){E.abort("timeout");return}else{if(ac==H&&E){E.abort("server abort");return}}if(!X||X.location.href==L.iframeSrc){if(!S){return}}G.detachEvent?G.detachEvent("onload",N):G.removeEventListener("load",N,false);var aa="success",ae;try{if(S){throw"timeout"}var Z=L.dataType=="xml"||X.XMLDocument||b.isXMLDoc(X);a("isXml="+Z);if(!Z&&window.opera&&(X.body==null||X.body.innerHTML=="")){if(--U){a("requeing onLoad callback, DOM not available");setTimeout(N,250);return}}var ag=X.body?X.body:X.documentElement;E.responseText=ag?ag.innerHTML:null;E.responseXML=X.XMLDocument?X.XMLDocument:X;if(Z){L.dataType="xml"}E.getResponseHeader=function(aj){var ai={"content-type":L.dataType};return ai[aj]};if(ag){E.status=Number(ag.getAttribute("status"))||E.status;E.statusText=ag.getAttribute("statusText")||E.statusText}var n=(L.dataType||"").toLowerCase();var ad=/(json|script|text)/.test(n);if(ad||L.textarea){var ab=X.getElementsByTagName("textarea")[0];if(ab){E.responseText=ab.value;E.status=Number(ab.getAttribute("status"))||E.status;E.statusText=ab.getAttribute("statusText")||E.statusText}else{if(ad){var Y=X.getElementsByTagName("pre")[0];var ah=X.getElementsByTagName("body")[0];if(Y){E.responseText=Y.textContent?Y.textContent:Y.innerText}else{if(ah){E.responseText=ah.textContent?ah.textContent:ah.innerText}}}}}else{if(n=="xml"&&!E.responseXML&&E.responseText!=null){E.responseXML=M(E.responseText)}}try{W=q(E,n,L)}catch(ac){aa="parsererror";E.error=ae=(ac||aa)}}catch(ac){a("error caught: ",ac);aa="error";E.error=ae=(ac||aa)}if(E.aborted){a("upload aborted");aa=null}if(E.status){aa=(E.status>=200&&E.status<300||E.status===304)?"success":"error"}if(aa==="success"){L.success&&L.success.call(L.context,W,"success",E);T&&b.event.trigger("ajaxSuccess",[E,L])}else{if(aa){if(ae==undefined){ae=E.statusText}L.error&&L.error.call(L.context,E,aa,ae);T&&b.event.trigger("ajaxError",[E,L,ae])}}T&&b.event.trigger("ajaxComplete",[E,L]);if(T&&!--b.active){b.event.trigger("ajaxStop")}L.complete&&L.complete.call(L.context,E,aa);B=true;if(L.timeout){clearTimeout(J)}setTimeout(function(){if(!L.iframeTarget){C.remove()}E.responseXML=null},100)}var M=b.parseXML||function(n,Y){if(window.ActiveXObject){Y=new ActiveXObject("Microsoft.XMLDOM");Y.async="false";Y.loadXML(n)}else{Y=(new DOMParser()).parseFromString(n,"text/xml")}return(Y&&Y.documentElement&&Y.documentElement.nodeName!="parsererror")?Y:null};var v=b.parseJSON||function(n){return window["eval"]("("+n+")")};var q=function(ac,aa,Z){var Y=ac.getResponseHeader("content-type")||"",n=aa==="xml"||!aa&&Y.indexOf("xml")>=0,ab=n?ac.responseXML:ac.responseText;if(n&&ab.documentElement.nodeName==="parsererror"){b.error&&b.error("parsererror")}if(Z&&Z.dataFilter){ab=Z.dataFilter(ab,aa)}if(typeof ab==="string"){if(aa==="json"||!aa&&Y.indexOf("json")>=0){ab=v(ab)}else{if(aa==="script"||!aa&&Y.indexOf("javascript")>=0){b.globalEval(ab)}}}return ab}}};b.fn.ajaxForm=function(c){if(this.length===0){var d={s:this.selector,c:this.context};if(!b.isReady&&d.s){a("DOM not ready, queuing ajaxForm");b(function(){b(d.s,d.c).ajaxForm(c)});return this}a("terminating; zero elements found by selector"+(b.isReady?"":" (DOM not ready)"));return this}return this.ajaxFormUnbind().bind("submit.form-plugin",function(f){if(!f.isDefaultPrevented()){f.preventDefault();b(this).ajaxSubmit(c)}}).bind("click.form-plugin",function(k){var j=k.target;var g=b(j);if(!(g.is(":submit,input:image"))){var f=g.closest(":submit");if(f.length==0){return}j=f[0]}var h=this;h.clk=j;if(j.type=="image"){if(k.offsetX!=undefined){h.clk_x=k.offsetX;h.clk_y=k.offsetY}else{if(typeof b.fn.offset=="function"){var l=g.offset();h.clk_x=k.pageX-l.left;h.clk_y=k.pageY-l.top}else{h.clk_x=k.pageX-j.offsetLeft;h.clk_y=k.pageY-j.offsetTop}}}setTimeout(function(){h.clk=h.clk_x=h.clk_y=null},100)})};b.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};b.fn.formToArray=function(q){var p=[];if(this.length===0){return p}var d=this[0];var g=q?d.getElementsByTagName("*"):d.elements;if(!g){return p}var k,h,f,r,e,m,c;for(k=0,m=g.length;k<m;k++){e=g[k];f=e.name;if(!f){continue}if(q&&d.clk&&e.type=="image"){if(!e.disabled&&d.clk==e){p.push({name:f,value:b(e).val()});p.push({name:f+".x",value:d.clk_x},{name:f+".y",value:d.clk_y})}continue}r=b.fieldValue(e,true);if(r&&r.constructor==Array){for(h=0,c=r.length;h<c;h++){p.push({name:f,value:r[h]})}}else{if(r!==null&&typeof r!="undefined"){p.push({name:f,value:r})}}}if(!q&&d.clk){var l=b(d.clk),o=l[0];f=o.name;if(f&&!o.disabled&&o.type=="image"){p.push({name:f,value:l.val()});p.push({name:f+".x",value:d.clk_x},{name:f+".y",value:d.clk_y})}}return p};b.fn.formSerialize=function(c){return b.param(this.formToArray(c))};b.fn.fieldSerialize=function(d){var c=[];this.each(function(){var h=this.name;if(!h){return}var f=b.fieldValue(this,d);if(f&&f.constructor==Array){for(var g=0,e=f.length;g<e;g++){c.push({name:h,value:f[g]})}}else{if(f!==null&&typeof f!="undefined"){c.push({name:this.name,value:f})}}});return b.param(c)};b.fn.fieldValue=function(h){for(var g=[],e=0,c=this.length;e<c;e++){var f=this[e];var d=b.fieldValue(f,h);if(d===null||typeof d=="undefined"||(d.constructor==Array&&!d.length)){continue}d.constructor==Array?b.merge(g,d):g.push(d)}return g};b.fieldValue=function(c,j){var e=c.name,p=c.type,q=c.tagName.toLowerCase();if(j===undefined){j=true}if(j&&(!e||c.disabled||p=="reset"||p=="button"||(p=="checkbox"||p=="radio")&&!c.checked||(p=="submit"||p=="image")&&c.form&&c.form.clk!=c||q=="select"&&c.selectedIndex==-1)){return null}if(q=="select"){var k=c.selectedIndex;if(k<0){return null}var m=[],d=c.options;var g=(p=="select-one");var l=(g?k+1:d.length);for(var f=(g?k:0);f<l;f++){var h=d[f];if(h.selected){var o=h.value;if(!o){o=(h.attributes&&h.attributes.value&&!(h.attributes.value.specified))?h.text:h.value}if(g){return o}m.push(o)}}return m}return b(c).val()};b.fn.clearForm=function(c){return this.each(function(){b("input,select,textarea",this).clearFields(c)})};b.fn.clearFields=b.fn.clearInputs=function(c){var d=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var f=this.type,e=this.tagName.toLowerCase();if(d.test(f)||e=="textarea"||(c&&/hidden/.test(f))){this.value=""}else{if(f=="checkbox"||f=="radio"){this.checked=false}else{if(e=="select"){this.selectedIndex=-1}}}})};b.fn.resetForm=function(){return this.each(function(){if(typeof this.reset=="function"||(typeof this.reset=="object"&&!this.reset.nodeType)){this.reset()}})};b.fn.enable=function(c){if(c===undefined){c=true}return this.each(function(){this.disabled=!c})};b.fn.selected=function(c){if(c===undefined){c=true}return this.each(function(){var d=this.type;if(d=="checkbox"||d=="radio"){this.checked=c}else{if(this.tagName.toLowerCase()=="option"){var e=b(this).parent("select");if(c&&e[0]&&e[0].type=="select-one"){e.find("option").selected(false)}this.selected=c}}})};b.fn.ajaxSubmit.debug=false;function a(){if(!b.fn.ajaxSubmit.debug){return}var c="[jquery.form] "+Array.prototype.join.call(arguments,"");if(window.console&&window.console.log){window.console.log(c)}else{if(window.opera&&window.opera.postError){window.opera.postError(c)}}}})(jQuery);jQuery.easing.jswing=jQuery.easing.swing;jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,f,a,h,g){return jQuery.easing[jQuery.easing.def](e,f,a,h,g)},easeInQuad:function(e,f,a,h,g){return h*(f/=g)*f+a},easeOutQuad:function(e,f,a,h,g){return -h*(f/=g)*(f-2)+a},easeInOutQuad:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f+a}return -h/2*((--f)*(f-2)-1)+a},easeInCubic:function(e,f,a,h,g){return h*(f/=g)*f*f+a},easeOutCubic:function(e,f,a,h,g){return h*((f=f/g-1)*f*f+1)+a},easeInOutCubic:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f+a}return h/2*((f-=2)*f*f+2)+a},easeInQuart:function(e,f,a,h,g){return h*(f/=g)*f*f*f+a},easeOutQuart:function(e,f,a,h,g){return -h*((f=f/g-1)*f*f*f-1)+a},easeInOutQuart:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f*f+a}return -h/2*((f-=2)*f*f*f-2)+a},easeInQuint:function(e,f,a,h,g){return h*(f/=g)*f*f*f*f+a},easeOutQuint:function(e,f,a,h,g){return h*((f=f/g-1)*f*f*f*f+1)+a},easeInOutQuint:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f*f*f+a}return h/2*((f-=2)*f*f*f*f+2)+a},easeInSine:function(e,f,a,h,g){return -h*Math.cos(f/g*(Math.PI/2))+h+a},easeOutSine:function(e,f,a,h,g){return h*Math.sin(f/g*(Math.PI/2))+a},easeInOutSine:function(e,f,a,h,g){return -h/2*(Math.cos(Math.PI*f/g)-1)+a},easeInExpo:function(e,f,a,h,g){return(f==0)?a:h*Math.pow(2,10*(f/g-1))+a},easeOutExpo:function(e,f,a,h,g){return(f==g)?a+h:h*(-Math.pow(2,-10*f/g)+1)+a},easeInOutExpo:function(e,f,a,h,g){if(f==0){return a}if(f==g){return a+h}if((f/=g/2)<1){return h/2*Math.pow(2,10*(f-1))+a}return h/2*(-Math.pow(2,-10*--f)+2)+a},easeInCirc:function(e,f,a,h,g){return -h*(Math.sqrt(1-(f/=g)*f)-1)+a},easeOutCirc:function(e,f,a,h,g){return h*Math.sqrt(1-(f=f/g-1)*f)+a},easeInOutCirc:function(e,f,a,h,g){if((f/=g/2)<1){return -h/2*(Math.sqrt(1-f*f)-1)+a}return h/2*(Math.sqrt(1-(f-=2)*f)+1)+a},easeInElastic:function(f,h,e,m,l){var j=1.70158;var k=0;var g=m;if(h==0){return e}if((h/=l)==1){return e+m}if(!k){k=l*0.3}if(g<Math.abs(m)){g=m;var j=k/4}else{var j=k/(2*Math.PI)*Math.asin(m/g)}return -(g*Math.pow(2,10*(h-=1))*Math.sin((h*l-j)*(2*Math.PI)/k))+e},easeOutElastic:function(f,h,e,m,l){var j=1.70158;var k=0;var g=m;if(h==0){return e}if((h/=l)==1){return e+m}if(!k){k=l*0.3}if(g<Math.abs(m)){g=m;var j=k/4}else{var j=k/(2*Math.PI)*Math.asin(m/g)}return g*Math.pow(2,-10*h)*Math.sin((h*l-j)*(2*Math.PI)/k)+m+e},easeInOutElastic:function(f,h,e,m,l){var j=1.70158;var k=0;var g=m;if(h==0){return e}if((h/=l/2)==2){return e+m}if(!k){k=l*(0.3*1.5)}if(g<Math.abs(m)){g=m;var j=k/4}else{var j=k/(2*Math.PI)*Math.asin(m/g)}if(h<1){return -0.5*(g*Math.pow(2,10*(h-=1))*Math.sin((h*l-j)*(2*Math.PI)/k))+e}return g*Math.pow(2,-10*(h-=1))*Math.sin((h*l-j)*(2*Math.PI)/k)*0.5+m+e},easeInBack:function(e,f,a,j,h,g){if(g==undefined){g=1.70158}return j*(f/=h)*f*((g+1)*f-g)+a},easeOutBack:function(e,f,a,j,h,g){if(g==undefined){g=1.70158}return j*((f=f/h-1)*f*((g+1)*f+g)+1)+a},easeInOutBack:function(e,f,a,j,h,g){if(g==undefined){g=1.70158}if((f/=h/2)<1){return j/2*(f*f*(((g*=(1.525))+1)*f-g))+a}return j/2*((f-=2)*f*(((g*=(1.525))+1)*f+g)+2)+a},easeInBounce:function(e,f,a,h,g){return h-jQuery.easing.easeOutBounce(e,g-f,0,h,g)+a},easeOutBounce:function(e,f,a,h,g){if((f/=g)<(1/2.75)){return h*(7.5625*f*f)+a}else{if(f<(2/2.75)){return h*(7.5625*(f-=(1.5/2.75))*f+0.75)+a}else{if(f<(2.5/2.75)){return h*(7.5625*(f-=(2.25/2.75))*f+0.9375)+a}else{return h*(7.5625*(f-=(2.625/2.75))*f+0.984375)+a}}}},easeInOutBounce:function(e,f,a,h,g){if(f<g/2){return jQuery.easing.easeInBounce(e,f*2,0,h,g)*0.5+a}return jQuery.easing.easeOutBounce(e,f*2-g,0,h,g)*0.5+h*0.5+a}});(function(a){a.fn.hoverIntent=function(l,k){var m={sensitivity:7,interval:100,timeout:0};m=a.extend(m,k?{over:l,out:k}:l);var o,n,h,d;var e=function(f){o=f.pageX;n=f.pageY};var c=function(g,f){f.hoverIntent_t=clearTimeout(f.hoverIntent_t);if((Math.abs(h-o)+Math.abs(d-n))<m.sensitivity){a(f).unbind("mousemove",e);f.hoverIntent_s=1;return m.over.apply(f,[g])}else{h=o;d=n;f.hoverIntent_t=setTimeout(function(){c(g,f)},m.interval)}};var j=function(g,f){f.hoverIntent_t=clearTimeout(f.hoverIntent_t);f.hoverIntent_s=0;return m.out.apply(f,[g])};var b=function(p){var g=jQuery.extend({},p);var f=this;if(f.hoverIntent_t){f.hoverIntent_t=clearTimeout(f.hoverIntent_t)}if(p.type=="mouseenter"){h=g.pageX;d=g.pageY;a(f).bind("mousemove",e);if(f.hoverIntent_s!=1){f.hoverIntent_t=setTimeout(function(){c(g,f)},m.interval)}}else{a(f).unbind("mousemove",e);if(f.hoverIntent_s==1){f.hoverIntent_t=setTimeout(function(){j(g,f)},m.timeout)}}};return this.bind("mouseenter",b).bind("mouseleave",b)}})(jQuery);
/*!
* MediaElement.js
* HTML5 <video> and <audio> shim and player
* http://mediaelementjs.com/
*
* Creates a JavaScript object that mimics HTML5 MediaElement API
* for browsers that don't understand HTML5 or can't play the provided codec
* Can play MP4 (H.264), Ogg, WebM, FLV, WMV, WMA, ACC, and MP3
*
* Copyright 2010-2011, John Dyer (http://j.hn)
* Dual licensed under the MIT or GPL Version 2 licenses.
*
*/
var mejs=mejs||{};mejs.version="2.3.4";mejs.meIndex=0;mejs.plugins={silverlight:[{version:[3,0],types:["video/mp4","video/m4v","video/mov","video/wmv","audio/wma","audio/m4a","audio/mp3","audio/wav","audio/mpeg"]}],flash:[{version:[9,0,124],types:["video/mp4","video/m4v","video/mov","video/flv","video/x-flv","audio/flv","audio/x-flv","audio/mp3","audio/m4a","audio/mpeg"]}]};mejs.Utility={encodeUrl:function(a){return encodeURIComponent(a)},escapeHTML:function(a){return a.toString().split("&").join("&amp;").split("<").join("&lt;").split('"').join("&quot;")},absolutizeUrl:function(a){var b=document.createElement("div");b.innerHTML='<a href="'+this.escapeHTML(a)+'">x</a>';return b.firstChild.href},getScriptPath:function(b){var f=0,e,g="",d="",c,a=document.getElementsByTagName("script");for(;f<a.length;f++){c=a[f].src;for(e=0;e<b.length;e++){d=b[e];if(c.indexOf(d)>-1){g=c.substring(0,c.indexOf(d));break}}if(g!==""){break}}return g},secondsToTimeCode:function(c,g,a,b){if(typeof a=="undefined"){a=false}else{if(typeof b=="undefined"){b=25}}var f=Math.floor(c/3600)%24,d=Math.floor(c/60)%60,h=Math.floor(c%60),e=Math.floor(((c%1)*b).toFixed(3)),j=((g||f>0)?(f<10?"0"+f:f)+":":"")+(d<10?"0"+d:d)+":"+(h<10?"0"+h:h)+((a)?":"+(e<10?"0"+e:e):"");return j},timeCodeToSeconds:function(c,k,d,e){if(typeof d=="undefined"){d=false}else{if(typeof e=="undefined"){e=25}}var f=c.split(":"),a=parseInt(f[0],10),b=parseInt(f[1],10),h=parseInt(f[2],10),j=0,g=0;if(d){j=parseInt(f[3])/e}g=(a*3600)+(b*60)+h+j;return g}};mejs.PluginDetector={hasPluginVersion:function(c,a){var b=this.plugins[c];a[1]=a[1]||0;a[2]=a[2]||0;return(b[0]>a[0]||(b[0]==a[0]&&b[1]>a[1])||(b[0]==a[0]&&b[1]==a[1]&&b[2]>=a[2]))?true:false},nav:window.navigator,ua:window.navigator.userAgent.toLowerCase(),plugins:[],addPlugin:function(d,c,e,a,b){this.plugins[d]=this.detectPlugin(c,e,a,b)},detectPlugin:function(g,b,c,k){var h=[0,0,0],j,d,a;if(typeof(this.nav.plugins)!="undefined"&&typeof this.nav.plugins[g]=="object"){j=this.nav.plugins[g].description;if(j&&!(typeof this.nav.mimeTypes!="undefined"&&this.nav.mimeTypes[b]&&!this.nav.mimeTypes[b].enabledPlugin)){h=j.replace(g,"").replace(/^\s+/,"").replace(/\sr/gi,".").split(".");for(d=0;d<h.length;d++){h[d]=parseInt(h[d].match(/\d+/),10)}}}else{if(typeof(window.ActiveXObject)!="undefined"){try{a=new ActiveXObject(c);if(a){h=k(a)}}catch(f){}}}return h}};mejs.PluginDetector.addPlugin("flash","Shockwave Flash","application/x-shockwave-flash","ShockwaveFlash.ShockwaveFlash",function(b){var a=[],c=b.GetVariable("$version");if(c){c=c.split(" ")[1].split(",");a=[parseInt(c[0],10),parseInt(c[1],10),parseInt(c[2],10)]}return a});mejs.PluginDetector.addPlugin("silverlight","Silverlight Plug-In","application/x-silverlight-2","AgControl.AgControl",function(b){var a=[0,0,0,0],c=function(f,d,e,g){while(f.isVersionSupported(d[0]+"."+d[1]+"."+d[2]+"."+d[3])){d[e]+=g}d[e]-=g};c(b,a,0,1);c(b,a,1,1);c(b,a,2,10000);c(b,a,2,1000);c(b,a,2,100);c(b,a,2,10);c(b,a,2,1);c(b,a,3,1);return a});mejs.MediaFeatures={init:function(){var e=this,h=document,g=mejs.PluginDetector.nav,c=mejs.PluginDetector.ua.toLowerCase(),b,a,f=["source","track","audio","video"];e.isiPad=(c.match(/ipad/i)!==null);e.isiPhone=(c.match(/iphone/i)!==null);e.isiOS=e.isiPhone||e.isiPad;e.isAndroid=(c.match(/android/i)!==null);e.isBustedAndroid=(c.match(/android 2\.[12]/)!==null);e.isIE=(g.appName.toLowerCase().indexOf("microsoft")!=-1);e.isChrome=(c.match(/chrome/gi)!==null);e.isFirefox=(c.match(/firefox/gi)!==null);e.isGecko=(c.match(/gecko/gi)!==null);e.isWebkit=(c.match(/webkit/gi)!==null);e.hasTouch=("ontouchstart" in window);for(b=0;b<f.length;b++){a=document.createElement(f[b])}e.supportsMediaTag=(typeof a.canPlayType!=="undefined"||e.isBustedAndroid);e.hasSemiNativeFullScreen=(typeof a.webkitEnterFullscreen!=="undefined");e.hasWebkitNativeFullScreen=(typeof a.webkitRequestFullScreen!=="undefined");e.hasMozNativeFullScreen=(typeof a.mozRequestFullScreen!=="undefined");e.hasTrueNativeFullScreen=(e.hasWebkitNativeFullScreen||e.hasMozNativeFullScreen);e.nativeFullScreenEnabled=e.hasTrueNativeFullScreen;if(e.hasMozNativeFullScreen){e.nativeFullScreenEnabled=a.mozFullScreenEnabled}if(this.isChrome){e.hasSemiNativeFullScreen=false}if(e.hasTrueNativeFullScreen){e.fullScreenEventName=(e.hasWebkitNativeFullScreen)?"webkitfullscreenchange":"mozfullscreenchange";e.isFullScreen=function(){if(a.mozRequestFullScreen){return h.mozFullScreen}else{if(a.webkitRequestFullScreen){return h.webkitIsFullScreen}}};e.requestFullScreen=function(d){if(e.hasWebkitNativeFullScreen){d.webkitRequestFullScreen()}else{if(e.hasMozNativeFullScreen){d.mozRequestFullScreen()}}};e.cancelFullScreen=function(){if(e.hasWebkitNativeFullScreen){document.webkitCancelFullScreen()}else{if(e.hasMozNativeFullScreen){document.mozCancelFullScreen()}}}}if(e.hasSemiNativeFullScreen&&c.match(/mac os x 10_5/i)){e.hasNativeFullScreen=false;e.hasSemiNativeFullScreen=false}}};mejs.MediaFeatures.init();mejs.HtmlMediaElement={pluginType:"native",isFullScreen:false,setCurrentTime:function(a){this.currentTime=a},setMuted:function(a){this.muted=a},setVolume:function(a){this.volume=a},stop:function(){this.pause()},setSrc:function(a){var c=this.getElementsByTagName("source");while(c.length>0){this.removeChild(c[0])}if(typeof a=="string"){this.src=a}else{var b,d;for(b=0;b<a.length;b++){d=a[b];if(this.canPlayType(d.type)){this.src=d.src}}}},setVideoSize:function(b,a){this.width=b;this.height=a}};mejs.PluginMediaElement=function(b,c,a){this.id=b;this.pluginType=c;this.src=a;this.events={}};mejs.PluginMediaElement.prototype={pluginElement:null,pluginType:"",isFullScreen:false,playbackRate:-1,defaultPlaybackRate:-1,seekable:[],played:[],paused:true,ended:false,seeking:false,duration:0,error:null,muted:false,volume:1,currentTime:0,play:function(){if(this.pluginApi!=null){this.pluginApi.playMedia();this.paused=false}},load:function(){if(this.pluginApi!=null){this.pluginApi.loadMedia();this.paused=false}},pause:function(){if(this.pluginApi!=null){this.pluginApi.pauseMedia();this.paused=true}},stop:function(){if(this.pluginApi!=null){this.pluginApi.stopMedia();this.paused=true}},canPlayType:function(e){var d,c,a,b=mejs.plugins[this.pluginType];for(d=0;d<b.length;d++){a=b[d];if(mejs.PluginDetector.hasPluginVersion(this.pluginType,a.version)){for(c=0;c<a.types.length;c++){if(e==a.types[c]){return true}}}}return false},setSrc:function(a){if(typeof a=="string"){this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(a));this.src=mejs.Utility.absolutizeUrl(a)}else{var b,c;for(b=0;b<a.length;b++){c=a[b];if(this.canPlayType(c.type)){this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(c.src));this.src=mejs.Utility.absolutizeUrl(a)}}}},setCurrentTime:function(a){if(this.pluginApi!=null){this.pluginApi.setCurrentTime(a);this.currentTime=a}},setVolume:function(a){if(this.pluginApi!=null){this.pluginApi.setVolume(a);this.volume=a}},setMuted:function(a){if(this.pluginApi!=null){this.pluginApi.setMuted(a);this.muted=a}},setVideoSize:function(b,a){if(this.pluginElement.style){this.pluginElement.style.width=b+"px";this.pluginElement.style.height=a+"px"}if(this.pluginApi!=null&&this.pluginApi.setVideoSize){this.pluginApi.setVideoSize(b,a)}},setFullscreen:function(a){if(this.pluginApi!=null){this.pluginApi.setFullscreen(a)}},enterFullScreen:function(){this.setFullscreen(true)},exitFullScreen:function(){this.setFullscreen(false)},addEventListener:function(b,c,a){this.events[b]=this.events[b]||[];this.events[b].push(c)},removeEventListener:function(a,c){if(!a){this.events={};return true}var b=this.events[a];if(!b){return true}if(!c){this.events[a]=[];return true}for(i=0;i<b.length;i++){if(b[i]===c){this.events[a].splice(i,1);return true}}return false},dispatchEvent:function(a){var c,b,d=this.events[a];if(d){b=Array.prototype.slice.call(arguments,1);for(c=0;c<d.length;c++){d[c].apply(null,b)}}}};mejs.MediaPluginBridge={pluginMediaElements:{},htmlMediaElements:{},registerPluginElement:function(c,a,b){this.pluginMediaElements[c]=a;this.htmlMediaElements[c]=b},initPlugin:function(c){var a=this.pluginMediaElements[c],b=this.htmlMediaElements[c];switch(a.pluginType){case"flash":a.pluginElement=a.pluginApi=document.getElementById(c);break;case"silverlight":a.pluginElement=document.getElementById(a.id);a.pluginApi=a.pluginElement.Content.MediaElementJS;break}if(a.pluginApi!=null&&a.success){a.success(a,b)}},fireEvent:function(h,c,b){var g,f,a,d=this.pluginMediaElements[h];d.ended=false;d.paused=true;g={type:c,target:d};for(f in b){d[f]=b[f];g[f]=b[f]}a=b.bufferedTime||0;g.target.buffered=g.buffered={start:function(e){return 0},end:function(e){return a},length:1};d.dispatchEvent(g.type,g)}};mejs.MediaElementDefaults={mode:"auto",plugins:["flash","silverlight"],enablePluginDebug:false,type:"",pluginPath:mejs.Utility.getScriptPath(["mediaelement.js","mediaelement.min.js","mediaelement-and-player.js","mediaelement-and-player.min.js"]),flashName:"flashmediaelement.swf",enablePluginSmoothing:false,silverlightName:"silverlightmediaelement.xap",defaultVideoWidth:480,defaultVideoHeight:270,pluginWidth:-1,pluginHeight:-1,timerRate:250,startVolume:0.8,success:function(){},error:function(){}};mejs.MediaElement=function(a,b){return mejs.HtmlMediaElementShim.create(a,b)};mejs.HtmlMediaElementShim={create:function(e,d){var n=mejs.MediaElementDefaults,k=(typeof(e)=="string")?document.getElementById(e):e,h=k.tagName.toLowerCase(),g=(h==="audio"||h==="video"),b=(g)?k.getAttribute("src"):k.getAttribute("href"),l=k.getAttribute("poster"),f=k.getAttribute("autoplay"),j=k.getAttribute("preload"),m=k.getAttribute("controls"),a,c;for(c in d){n[c]=d[c]}b=(typeof b=="undefined"||b===null||b=="")?null:b;l=(typeof l=="undefined"||l===null)?"":l;j=(typeof j=="undefined"||j===null||j==="false")?"none":j;f=!(typeof f=="undefined"||f===null||f==="false");m=!(typeof m=="undefined"||m===null||m==="false");a=this.determinePlayback(k,n,mejs.MediaFeatures.supportsMediaTag,g,b);a.url=(a.url!==null)?mejs.Utility.absolutizeUrl(a.url):"";if(a.method=="native"){if(mejs.MediaFeatures.isBustedAndroid){k.src=a.url;k.addEventListener("click",function(){k.play()},false)}return this.updateNative(a,n,f,j)}else{if(a.method!==""){return this.createPlugin(a,n,l,f,j,m)}else{this.createErrorMessage(a,n,l);return this}}},determinePlayback:function(s,v,b,d,a){var u=[],m,h,g,f,c,q,t={method:"",url:"",htmlMediaElement:s,isVideo:(s.tagName.toLowerCase()!="audio")},o,p,r,e;if(typeof v.type!="undefined"&&v.type!==""){if(typeof v.type=="string"){u.push({type:v.type,url:a})}else{for(m=0;m<v.type.length;m++){u.push({type:v.type[m],url:a})}}}else{if(a!==null){q=this.formatType(a,s.getAttribute("type"));u.push({type:q,url:a})}else{for(m=0;m<s.childNodes.length;m++){c=s.childNodes[m];if(c.nodeType==1&&c.tagName.toLowerCase()=="source"){a=c.getAttribute("src");q=this.formatType(a,c.getAttribute("type"));u.push({type:q,url:a})}}}}if(!d&&u.length>0&&u[0].url!==null&&this.getTypeFromFile(u[0].url).indexOf("audio")>-1){t.isVideo=false}if(mejs.MediaFeatures.isBustedAndroid){s.canPlayType=function(j){return(j.match(/video\/(mp4|m4v)/gi)!==null)?"maybe":""}}if(b&&(v.mode==="auto"||v.mode==="native")){if(!d){e=document.createElement(t.isVideo?"video":"audio");s.parentNode.insertBefore(e,s);s.style.display="none";t.htmlMediaElement=s=e}for(m=0;m<u.length;m++){if(s.canPlayType(u[m].type).replace(/no/,"")!==""||s.canPlayType(u[m].type.replace(/mp3/,"mpeg")).replace(/no/,"")!==""){t.method="native";t.url=u[m].url;break}}if(t.method==="native"){if(t.url!==null){s.src=t.url}return t}}if(v.mode==="auto"||v.mode==="shim"){for(m=0;m<u.length;m++){q=u[m].type;for(h=0;h<v.plugins.length;h++){o=v.plugins[h];p=mejs.plugins[o];for(g=0;g<p.length;g++){r=p[g];if(mejs.PluginDetector.hasPluginVersion(o,r.version)){for(f=0;f<r.types.length;f++){if(q==r.types[f]){t.method=o;t.url=u[m].url;return t}}}}}}}if(t.method===""&&u.length>0){t.url=u[0].url}return t},formatType:function(a,c){var b;if(a&&!c){return this.getTypeFromFile(a)}else{if(c&&~c.indexOf(";")){return c.substr(0,c.indexOf(";"))}else{return c}}},getTypeFromFile:function(a){var b=a.substring(a.lastIndexOf(".")+1);return(/(mp4|m4v|ogg|ogv|webm|flv|wmv|mpeg|mov)/gi.test(b)?"video":"audio")+"/"+b},createErrorMessage:function(c,b,g){var d=c.htmlMediaElement,a=document.createElement("div");a.className="me-cannotplay";try{a.style.width=d.width+"px";a.style.height=d.height+"px"}catch(f){}a.innerHTML=(g!=="")?'<a href="'+c.url+'"><img src="'+g+'" /></a>':'<a href="'+c.url+'"><span>Download File</span></a>';d.parentNode.insertBefore(a,d);d.style.display="none";b.error(d)},createPlugin:function(b,p,l,f,k,m){var j=b.htmlMediaElement,d=1,n=1,e="me_"+b.method+"_"+(mejs.meIndex++),o=new mejs.PluginMediaElement(e,b.method,b.url),c=document.createElement("div"),h,g,a;g=j.parentNode;while(g!==null&&g.tagName.toLowerCase()!="body"){if(g.parentNode.tagName.toLowerCase()=="p"){g.parentNode.parentNode.insertBefore(g,g.parentNode);break}g=g.parentNode}if(b.isVideo){d=(p.videoWidth>0)?p.videoWidth:(j.getAttribute("width")!==null)?j.getAttribute("width"):p.defaultVideoWidth;n=(p.videoHeight>0)?p.videoHeight:(j.getAttribute("height")!==null)?j.getAttribute("height"):p.defaultVideoHeight;d=mejs.Utility.encodeUrl(d);n=mejs.Utility.encodeUrl(n)}else{if(p.enablePluginDebug){d=320;n=240}}o.success=p.success;mejs.MediaPluginBridge.registerPluginElement(e,o,j);c.className="me-plugin";j.parentNode.insertBefore(c,j);a=["id="+e,"isvideo="+((b.isVideo)?"true":"false"),"autoplay="+((f)?"true":"false"),"preload="+k,"width="+d,"startvolume="+p.startVolume,"timerrate="+p.timerRate,"height="+n];if(b.url!==null){if(b.method=="flash"){a.push("file="+mejs.Utility.encodeUrl(b.url))}else{a.push("file="+b.url)}}if(p.enablePluginDebug){a.push("debug=true")}if(p.enablePluginSmoothing){a.push("smoothing=true")}if(m){a.push("controls=true")}switch(b.method){case"silverlight":c.innerHTML='<object data="data:application/x-silverlight-2," type="application/x-silverlight-2" id="'+e+'" name="'+e+'" width="'+d+'" height="'+n+'"><param name="initParams" value="'+a.join(",")+'" /><param name="windowless" value="true" /><param name="background" value="black" /><param name="minRuntimeVersion" value="3.0.0.0" /><param name="autoUpgrade" value="true" /><param name="source" value="'+p.pluginPath+p.silverlightName+'" /></object>';break;case"flash":if(mejs.MediaFeatures.isIE){h=document.createElement("div");c.appendChild(h);h.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+e+'" width="'+d+'" height="'+n+'"><param name="movie" value="'+p.pluginPath+p.flashName+"?x="+(new Date())+'" /><param name="flashvars" value="'+a.join("&amp;")+'" /><param name="quality" value="high" /><param name="bgcolor" value="#000000" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="true" /></object>'}else{c.innerHTML='<embed id="'+e+'" name="'+e+'" play="true" loop="false" quality="high" bgcolor="#000000" wmode="transparent" allowScriptAccess="always" allowFullScreen="true" type="application/x-shockwave-flash" pluginspage="//www.macromedia.com/go/getflashplayer" src="'+p.pluginPath+p.flashName+'" flashvars="'+a.join("&")+'" width="'+d+'" height="'+n+'"></embed>'}break}j.style.display="none";return o},updateNative:function(d,c,f,b){var e=d.htmlMediaElement,a;for(a in mejs.HtmlMediaElement){e[a]=mejs.HtmlMediaElement[a]}c.success(e,e);return e}};window.mejs=mejs;window.MediaElement=mejs.MediaElement;
/*!
 * MediaElementPlayer
 * http://mediaelementjs.com/
 *
 * Creates a controller bar for HTML5 <video> add <audio> tags
 * using jQuery and MediaElement.js (HTML5 Flash/Silverlight wrapper)
 *
 * Copyright 2010-2011, John Dyer (http://j.hn/)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 */
if(typeof jQuery!="undefined"){mejs.$=jQuery}else{if(typeof ender!="undefined"){mejs.$=ender}}(function(a){mejs.MepDefaults={poster:"",defaultVideoWidth:480,defaultVideoHeight:270,videoWidth:-1,videoHeight:-1,audioWidth:400,audioHeight:30,startVolume:0.8,loop:false,enableAutosize:true,alwaysShowHours:false,showTimecodeFrameCount:false,framesPerSecond:25,autosizeProgress:true,alwaysShowControls:false,iPadUseNativeControls:false,iPhoneUseNativeControls:false,AndroidUseNativeControls:false,features:["playpause","current","progress","duration","tracks","volume","fullscreen"],isVideo:true};mejs.mepIndex=0;mejs.MediaElementPlayer=function(c,d){if(!(this instanceof mejs.MediaElementPlayer)){return new mejs.MediaElementPlayer(c,d)}var b=this;b.$media=b.$node=a(c);b.node=b.media=b.$media[0];if(typeof b.node.player!="undefined"){return b.node.player}else{b.node.player=b}b.options=a.extend({},mejs.MepDefaults,d);b.init();return b};mejs.MediaElementPlayer.prototype={init:function(){var c=this,d=mejs.MediaFeatures,f=a.extend(true,{},c.options,{success:function(h,g){c.meReady(h,g)},error:function(g){c.handleError(g)}}),b=c.media.tagName.toLowerCase();c.isDynamic=(b!=="audio"&&b!=="video");if(c.isDynamic){c.isVideo=c.options.isVideo}else{c.isVideo=(b!=="audio"&&c.options.isVideo)}if((d.isiPad&&c.options.iPadUseNativeControls)||(d.isiPhone&&c.options.iPhoneUseNativeControls)){c.$media.attr("controls","controls");c.$media.removeAttr("poster");if(d.isiPad&&c.media.getAttribute("autoplay")!==null){c.media.load();c.media.play()}}else{if(d.isAndroid&&c.AndroidUseNativeControls){}else{c.$media.removeAttr("controls");c.id="mep_"+mejs.mepIndex++;c.container=a('<div id="'+c.id+'" class="mejs-container"><div class="mejs-inner"><div class="mejs-mediaelement"></div><div class="mejs-layers"></div><div class="mejs-controls"></div><div class="mejs-clear"></div></div></div>').addClass(c.$media[0].className).insertBefore(c.$media);c.container.addClass((d.isAndroid?"mejs-android ":"")+(d.isiOS?"mejs-ios ":"")+(d.isiPad?"mejs-ipad ":"")+(d.isiPhone?"mejs-iphone ":"")+(c.isVideo?"mejs-video ":"mejs-audio "));if(d.isiOS){var e=c.$media.clone();c.container.find(".mejs-mediaelement").append(e);c.$media.remove();c.$node=c.$media=e;c.node=c.media=e[0]}else{c.container.find(".mejs-mediaelement").append(c.$media)}c.controls=c.container.find(".mejs-controls");c.layers=c.container.find(".mejs-layers");if(c.isVideo){if(c.options.videoWidth>0||c.options.videoWidth.toString().indexOf("%")>-1){c.width=c.options.videoWidth}else{if(c.media.style.width!==""&&c.media.style.width!==null){c.width=c.media.style.width}else{if(c.media.getAttribute("width")!==null){c.width=c.$media.attr("width")}else{c.width=c.options.defaultVideoWidth}}}if(c.options.videoHeight>0||c.options.videoHeight.toString().indexOf("%")>-1){c.height=c.options.videoHeight}else{if(c.media.style.height!==""&&c.media.style.height!==null){c.height=c.media.style.height}else{if(c.$media[0].getAttribute("height")!==null){c.height=c.$media.attr("height")}else{c.height=c.options.defaultVideoHeight}}}}else{c.width=c.options.audioWidth;c.height=c.options.audioHeight}c.setPlayerSize(c.width,c.height);f.pluginWidth=c.height;f.pluginHeight=c.width}}mejs.MediaElement(c.$media[0],f)},controlsAreVisible:true,showControls:function(b){var c=this;b=typeof b=="undefined"||b;if(c.controlsAreVisible){return}if(b){c.controls.css("visibility","visible").stop(true,true).fadeIn(200,function(){c.controlsAreVisible=true});c.container.find(".mejs-control").css("visibility","visible").stop(true,true).fadeIn(200,function(){c.controlsAreVisible=true})}else{c.controls.css("visibility","visible").css("display","block");c.container.find(".mejs-control").css("visibility","visible").css("display","block");c.controlsAreVisible=true}c.setControlsSize()},hideControls:function(b){var c=this,b=typeof b=="undefined"||b;if(!c.controlsAreVisible){return}if(b){c.controls.stop(true,true).fadeOut(200,function(){a(this).css("visibility","hidden").css("display","block");c.controlsAreVisible=false});c.container.find(".mejs-control").stop(true,true).fadeOut(200,function(){a(this).css("visibility","hidden").css("display","block")})}else{c.controls.css("visibility","hidden").css("display","block");c.container.find(".mejs-control").css("visibility","hidden").css("display","block");c.controlsAreVisible=false}},controlsTimer:null,startControlsTimer:function(c){var b=this,c=typeof c!="undefined"?c:500;b.killControlsTimer("start");b.controlsTimer=setTimeout(function(){b.hideControls();b.killControlsTimer("hide")},c)},killControlsTimer:function(c){var b=this;if(b.controlsTimer!==null){clearTimeout(b.controlsTimer);delete b.controlsTimer;b.controlsTimer=null}},controlsEnabled:true,disableControls:function(){var b=this;b.killControlsTimer();b.hideControls(false);this.controlsEnabled=false},enableControls:function(){var b=this;b.showControls(false);b.controlsEnabled=true},meReady:function(c,f){var k=this,j=mejs.MediaFeatures,g=f.getAttribute("autoplay"),d=!(typeof g=="undefined"||g===null||g==="false"),b,l;if(k.created){return}else{k.created=true}k.media=c;k.domNode=f;if(!(j.isAndroid&&k.options.AndroidUseNativeControls)&&!(j.isiPad&&k.options.iPadUseNativeControls)&&!(j.isiPhone&&k.options.iPhoneUseNativeControls)){k.buildposter(k,k.controls,k.layers,k.media);k.buildoverlays(k,k.controls,k.layers,k.media);k.findTracks();for(b in k.options.features){l=k.options.features[b];if(k["build"+l]){try{k["build"+l](k,k.controls,k.layers,k.media)}catch(h){}}}k.container.trigger("controlsready");k.setPlayerSize(k.width,k.height);k.setControlsSize();if(k.isVideo){if(mejs.MediaFeatures.hasTouch){console.log("enabling touch control style");k.$media.bind("touchstart",function(){console.log("touch click. visible: "+k.controlsAreVisible+", enabled: "+k.controlsEnabled);if(k.controlsAreVisible){k.hideControls(false)}else{if(k.controlsEnabled){k.showControls(false)}}})}else{if(k.media.pluginType=="native"){k.$media.click(function(){if(c.paused){c.play()}else{c.pause()}})}else{a(k.media.pluginElement).click(function(){if(c.paused){c.play()}else{c.pause()}})}k.container.bind("mouseenter mouseover",function(){if(k.controlsEnabled){if(!k.options.alwaysShowControls){k.killControlsTimer("enter");k.showControls();k.startControlsTimer(2500)}}}).bind("mousemove",function(){if(k.controlsEnabled){if(!k.controlsAreVisible){k.showControls()}if(!k.options.alwaysShowControls){k.startControlsTimer(2500)}}}).bind("mouseleave",function(){if(k.controlsEnabled){if(!k.media.paused&&!k.options.alwaysShowControls){k.startControlsTimer(1000)}}})}if(d&&!k.options.alwaysShowControls){k.hideControls()}if(k.options.enableAutosize){k.media.addEventListener("loadedmetadata",function(m){if(k.options.videoHeight<=0&&k.domNode.getAttribute("height")===null&&!isNaN(m.target.videoHeight)){k.setPlayerSize(m.target.videoWidth,m.target.videoHeight);k.setControlsSize();k.media.setVideoSize(m.target.videoWidth,m.target.videoHeight)}},false)}}k.media.addEventListener("ended",function(m){try{k.media.setCurrentTime(0)}catch(n){}k.media.pause();if(k.setProgressRail){k.setProgressRail()}if(k.setCurrentRail){k.setCurrentRail()}if(k.options.loop){k.media.play()}else{if(!k.options.alwaysShowControls&&k.controlsEnabled){k.showControls()}}},false);k.media.addEventListener("loadedmetadata",function(m){if(k.updateDuration){k.updateDuration()}if(k.updateCurrent){k.updateCurrent()}if(!k.isFullScreen){k.setPlayerSize(k.width,k.height);k.setControlsSize()}},false);setTimeout(function(){k.setPlayerSize(k.width,k.height);k.setControlsSize()},50);a(window).resize(function(){if(!(k.isFullScreen||(mejs.MediaFeatures.hasTrueNativeFullScreen&&document.webkitIsFullScreen))){k.setPlayerSize(k.width,k.height)}k.setControlsSize()})}if(d&&c.pluginType=="native"){c.load();c.play()}if(k.options.success){k.options.success(k.media,k.domNode,k)}},handleError:function(c){var b=this;b.controls.hide();if(b.options.error){b.options.error(c)}},setPlayerSize:function(g,b){var e=this;if(e.height.toString().indexOf("%")>0){var h=(e.media.videoWidth&&e.media.videoWidth>0)?e.media.videoWidth:e.options.defaultVideoWidth,d=(e.media.videoHeight&&e.media.videoHeight>0)?e.media.videoHeight:e.options.defaultVideoHeight,f=e.container.parent().width(),c=parseInt(f*d/h,10);if(e.container.parent()[0].tagName.toLowerCase()==="body"){f=a(window).width();c=a(window).height()}e.container.width(f).height(c);e.$media.width("100%").height("100%");e.container.find("object embed").width("100%").height("100%");if(e.media.setVideoSize){e.media.setVideoSize(f,c)}e.layers.children(".mejs-layer").width("100%").height("100%")}else{e.container.width(e.width).height(e.height);e.layers.children(".mejs-layer").width(e.width).height(e.height)}},setControlsSize:function(){var c=this,f=0,h=0,g=c.controls.find(".mejs-time-rail"),d=c.controls.find(".mejs-time-total"),e=c.controls.find(".mejs-time-current"),b=c.controls.find(".mejs-time-loaded");others=g.siblings();if(c.options&&!c.options.autosizeProgress){h=parseInt(g.css("width"))}if(h===0||!h){others.each(function(){if(a(this).css("position")!="absolute"){f+=a(this).outerWidth(true)}});h=c.controls.width()-f-(g.outerWidth(true)-g.outerWidth(false))}g.width(h);d.width(h-(d.outerWidth(true)-d.width()));if(c.setProgressRail){c.setProgressRail()}if(c.setCurrentRail){c.setCurrentRail()}},buildposter:function(e,b,g,f){var d=this,h=a('<div class="mejs-poster mejs-layer"></div>').appendTo(g),c=e.$media.attr("poster");if(e.options.poster!==""){c=e.options.poster}if(c!==""&&c!=null){d.setPoster(c)}else{h.hide()}f.addEventListener("play",function(){h.hide()},false)},setPoster:function(c){var d=this,e=d.container.find(".mejs-poster"),b=e.find("img");if(b.length==0){b=a('<img width="100%" height="100%" />').appendTo(e)}b.attr("src",c)},buildoverlays:function(e,b,g,f){if(!e.isVideo){return}var h=a('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-loading"><span></span></div></div>').hide().appendTo(g),c=a('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-error"></div></div>').hide().appendTo(g),d=a('<div class="mejs-overlay mejs-layer mejs-overlay-play"><div class="mejs-overlay-button"></div></div>').appendTo(g).click(function(){if(f.paused){f.play()}else{f.pause()}});f.addEventListener("play",function(){d.hide();h.hide();c.hide()},false);f.addEventListener("playing",function(){d.hide();h.hide();c.hide()},false);f.addEventListener("pause",function(){if(!mejs.MediaFeatures.isiPhone){d.show()}},false);f.addEventListener("waiting",function(){h.show()},false);f.addEventListener("loadeddata",function(){h.show()},false);f.addEventListener("canplay",function(){h.hide()},false);f.addEventListener("error",function(){h.hide();c.show();c.find("mejs-overlay-error").html("Error loading this resource")},false)},findTracks:function(){var b=this,c=b.$media.find("track");b.tracks=[];c.each(function(){b.tracks.push({srclang:a(this).attr("srclang").toLowerCase(),src:a(this).attr("src"),kind:a(this).attr("kind"),entries:[],isLoaded:false})})},changeSkin:function(b){this.container[0].className="mejs-container "+b;this.setPlayerSize();this.setControlsSize()},play:function(){this.media.play()},pause:function(){this.media.pause()},load:function(){this.media.load()},setMuted:function(b){this.media.setMuted(b)},setCurrentTime:function(b){this.media.setCurrentTime(b)},getCurrentTime:function(){return this.media.currentTime},setVolume:function(b){this.media.setVolume(b)},getVolume:function(){return this.media.volume},setSrc:function(b){this.media.setSrc(b)}};if(typeof jQuery!="undefined"){jQuery.fn.mediaelementplayer=function(b){return this.each(function(){new mejs.MediaElementPlayer(this,b)})}}window.MediaElementPlayer=mejs.MediaElementPlayer})(mejs.$);(function(a){a.extend(mejs.MepDefaults,{playpauseText:"Play/Pause"});a.extend(MediaElementPlayer.prototype,{buildplaypause:function(d,b,g,f){var c=this,e=a('<div class="mejs-button mejs-playpause-button mejs-play" ><button type="button" aria-controls="'+c.id+'" title="'+c.options.playpauseText+'"></button></div>').appendTo(b).click(function(h){h.preventDefault();if(f.paused){f.play()}else{f.pause()}return false});f.addEventListener("play",function(){e.removeClass("mejs-play").addClass("mejs-pause")},false);f.addEventListener("playing",function(){e.removeClass("mejs-play").addClass("mejs-pause")},false);f.addEventListener("pause",function(){e.removeClass("mejs-pause").addClass("mejs-play")},false);f.addEventListener("paused",function(){e.removeClass("mejs-pause").addClass("mejs-play")},false)}})})(mejs.$);(function(a){a.extend(mejs.MepDefaults,{stopText:"Stop"});a.extend(MediaElementPlayer.prototype,{buildstop:function(e,b,g,f){var d=this,c=a('<div class="mejs-button mejs-stop-button mejs-stop"><button type="button" aria-controls="'+d.id+'" title="'+d.options.stopText+"></button></div>").appendTo(b).click(function(){if(!f.paused){f.pause()}if(f.currentTime>0){f.setCurrentTime(0);b.find(".mejs-time-current").width("0px");b.find(".mejs-time-handle").css("left","0px");b.find(".mejs-time-float-current").html(mejs.Utility.secondsToTimeCode(0));b.find(".mejs-currenttime").html(mejs.Utility.secondsToTimeCode(0));g.find(".mejs-poster").show()}})}})})(mejs.$);(function(a){a.extend(MediaElementPlayer.prototype,{buildprogress:function(n,o,f,c){a('<div class="mejs-time-rail"><span class="mejs-time-total"><span class="mejs-time-loaded"></span><span class="mejs-time-current"></span><span class="mejs-time-handle"></span><span class="mejs-time-float"><span class="mejs-time-float-current">00:00</span><span class="mejs-time-float-corner"></span></span></span></div>').appendTo(o);var p=this,l=o.find(".mejs-time-total"),g=o.find(".mejs-time-loaded"),k=o.find(".mejs-time-current"),j=o.find(".mejs-time-handle"),m=o.find(".mejs-time-float"),b=o.find(".mejs-time-float-current"),e=function(u){var q=u.pageX,v=l.offset(),s=l.outerWidth(),r=0,t=0;if(q>v.left&&q<=s+v.left&&c.duration){r=((q-v.left)/s);t=(r<=0.02)?0:r*c.duration;if(h){c.setCurrentTime(t)}var w=q-v.left;m.css("left",w);b.html(mejs.Utility.secondsToTimeCode(t))}},h=false,d=false;l.bind("mousedown",function(q){if(q.which===1){h=true;e(q);return false}});o.find(".mejs-time-total").bind("mouseenter",function(q){d=true}).bind("mouseleave",function(q){d=false});a(document).bind("mouseup",function(q){h=false}).bind("mousemove",function(q){if(h||d){e(q)}});c.addEventListener("progress",function(q){n.setProgressRail(q);n.setCurrentRail(q)},false);c.addEventListener("timeupdate",function(q){n.setProgressRail(q);n.setCurrentRail(q)},false);p.loaded=g;p.total=l;p.current=k;p.handle=j},setProgressRail:function(f){var b=this,d=(f!=undefined)?f.target:b.media,c=null;if(d&&d.buffered&&d.buffered.length>0&&d.buffered.end&&d.duration){c=d.buffered.end(0)/d.duration}else{if(d&&d.bytesTotal!=undefined&&d.bytesTotal>0&&d.bufferedBytes!=undefined){c=d.bufferedBytes/d.bytesTotal}else{if(f&&f.lengthComputable&&f.total!=0){c=f.loaded/f.total}}}if(c!==null){c=Math.min(1,Math.max(0,c));if(b.loaded&&b.total){b.loaded.width(b.total.width()*c)}}},setCurrentRail:function(){var b=this;if(b.media.currentTime!=undefined&&b.media.duration){if(b.total&&b.handle){var d=b.total.width()*b.media.currentTime/b.media.duration,c=d-(b.handle.outerWidth(true)/2);b.current.width(d);b.handle.css("left",c)}}}})})(mejs.$);(function(a){a.extend(mejs.MepDefaults,{duration:-1});a.extend(MediaElementPlayer.prototype,{buildcurrent:function(d,b,f,e){var c=this;a('<div class="mejs-time"><span class="mejs-currenttime">'+(d.options.alwaysShowHours?"00:":"")+(d.options.showTimecodeFrameCount?"00:00:00":"00:00")+"</span></div>").appendTo(b);c.currenttime=c.controls.find(".mejs-currenttime");e.addEventListener("timeupdate",function(){d.updateCurrent()},false)},buildduration:function(d,b,f,e){var c=this;if(b.children().last().find(".mejs-currenttime").length>0){a(' <span> | </span> <span class="mejs-duration">'+(c.options.duration>0?mejs.Utility.secondsToTimeCode(c.options.duration,c.options.alwaysShowHours||c.media.duration>3600,c.options.showTimecodeFrameCount,c.options.framesPerSecond||25):((d.options.alwaysShowHours?"00:":"")+(d.options.showTimecodeFrameCount?"00:00:00":"00:00")))+"</span>").appendTo(b.find(".mejs-time"))}else{b.find(".mejs-currenttime").parent().addClass("mejs-currenttime-container");a('<div class="mejs-time mejs-duration-container"><span class="mejs-duration">'+(c.options.duration>0?mejs.Utility.secondsToTimeCode(c.options.duration,c.options.alwaysShowHours||c.media.duration>3600,c.options.showTimecodeFrameCount,c.options.framesPerSecond||25):((d.options.alwaysShowHours?"00:":"")+(d.options.showTimecodeFrameCount?"00:00:00":"00:00")))+"</span></div>").appendTo(b)}c.durationD=c.controls.find(".mejs-duration");e.addEventListener("timeupdate",function(){d.updateDuration()},false)},updateCurrent:function(){var b=this;if(b.currenttime){b.currenttime.html(mejs.Utility.secondsToTimeCode(b.media.currentTime,b.options.alwaysShowHours||b.media.duration>3600,b.options.showTimecodeFrameCount,b.options.framesPerSecond||25))}},updateDuration:function(){var b=this;if(b.media.duration&&b.durationD){b.durationD.html(mejs.Utility.secondsToTimeCode(b.media.duration,b.options.alwaysShowHours,b.options.showTimecodeFrameCount,b.options.framesPerSecond||25))}}})})(mejs.$);(function(a){a.extend(mejs.MepDefaults,{muteText:"Mute Toggle"});a.extend(MediaElementPlayer.prototype,{buildvolume:function(l,m,h,d){if(mejs.MediaFeatures.hasTouch){return}var n=this,e=a('<div class="mejs-button mejs-volume-button mejs-mute"><button type="button" aria-controls="'+n.id+'" title="'+n.options.muteText+'"></button><div class="mejs-volume-slider"><div class="mejs-volume-total"></div><div class="mejs-volume-current"></div><div class="mejs-volume-handle"></div></div></div>').appendTo(m),o=e.find(".mejs-volume-slider"),b=e.find(".mejs-volume-total"),g=e.find(".mejs-volume-current"),f=e.find(".mejs-volume-handle"),k=function(s){if(!o.is(":visible")){o.show();k(s);o.hide();return}var r=b.height(),q=b.position(),p=r-(r*s);f.css("top",q.top+p-(f.height()/2));g.height(r-p);g.css("top",q.top+p)},c=function(u){var r=b.height(),q=b.offset(),p=parseInt(b.css("top").replace(/px/,""),10),t=u.pageY-q.top,s=(r-t)/r;if(q.top==0){return}s=Math.max(0,s);s=Math.min(s,1);if(t<0){t=0}else{if(t>r){t=r}}f.css("top",t-(f.height()/2)+p);g.height(r-t);g.css("top",t+p);if(s==0){d.setMuted(true);e.removeClass("mejs-mute").addClass("mejs-unmute")}else{d.setMuted(false);e.removeClass("mejs-unmute").addClass("mejs-mute")}s=Math.max(0,s);s=Math.min(s,1);d.setVolume(s)},j=false;e.hover(function(){o.show()},function(){o.hide()});o.bind("mousedown",function(p){c(p);j=true;return false});a(document).bind("mouseup",function(p){j=false}).bind("mousemove",function(p){if(j){c(p)}});e.find("button").click(function(){d.setMuted(!d.muted)});d.addEventListener("volumechange",function(p){if(!j){if(d.muted){k(0);e.removeClass("mejs-mute").addClass("mejs-unmute")}else{k(p.target.volume);e.removeClass("mejs-unmute").addClass("mejs-mute")}}},false);k(l.options.startVolume);if(d.pluginType==="native"){d.setVolume(l.options.startVolume)}}})})(mejs.$);(function(a){a.extend(mejs.MepDefaults,{forcePluginFullScreen:false,newWindowCallback:function(){return""},fullscreenText:"Fullscreen"});a.extend(MediaElementPlayer.prototype,{isFullScreen:false,isNativeFullScreen:false,docStyleOverflow:null,isInIframe:false,buildfullscreen:function(h,j,f,d){if(!h.isVideo){return}h.isInIframe=(window.location!=window.parent.location);if(mejs.MediaFeatures.hasTrueNativeFullScreen){h.container.bind(mejs.MediaFeatures.fullScreenEventName,function(l){if(mejs.MediaFeatures.isFullScreen()){h.isNativeFullScreen=true;h.setControlsSize()}else{h.isNativeFullScreen=false;h.exitFullScreen()}})}var k=this,g=0,c=0,b=h.container,e=a('<div class="mejs-button mejs-fullscreen-button"><button type="button" aria-controls="'+k.id+'" title="'+k.options.fullscreenText+'"></button></div>').appendTo(j).click(function(){var l=(mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.isFullScreen())||h.isFullScreen;if(l){h.exitFullScreen()}else{h.enterFullScreen()}});h.fullscreenBtn=e;a(document).bind("keydown",function(l){if(((mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.isFullScreen())||k.isFullScreen)&&l.keyCode==27){h.exitFullScreen()}})},enterFullScreen:function(){var c=this;if(c.media.pluginType!=="native"&&(mejs.MediaFeatures.isGecko||c.options.forcePluginFullScreen)){c.media.setFullscreen(true);return}docStyleOverflow=document.documentElement.style.overflow;document.documentElement.style.overflow="hidden";normalHeight=c.container.height();normalWidth=c.container.width();if(mejs.MediaFeatures.hasTrueNativeFullScreen){mejs.MediaFeatures.requestFullScreen(c.container[0])}else{if(mejs.MediaFeatures.hasSemiNativeFullScreen){c.media.webkitEnterFullscreen();return}}if(c.isInIframe){var b=c.options.newWindowCallback(this);if(b!==""){if(!mejs.MediaFeatures.hasTrueNativeFullScreen){c.pause();window.open(b,c.id,"top=0,left=0,width="+screen.availWidth+",height="+screen.availHeight+",resizable=yes,scrollbars=no,status=no,toolbar=no");return}else{setTimeout(function(){if(!c.isNativeFullScreen){c.pause();window.open(b,c.id,"top=0,left=0,width="+screen.availWidth+",height="+screen.availHeight+",resizable=yes,scrollbars=no,status=no,toolbar=no")}},250)}}}c.container.addClass("mejs-container-fullscreen").width("100%").height("100%");if(mejs.MediaFeatures.hasTrueNativeFullScreen){setTimeout(function(){c.container.css({width:"100%",height:"100%"})},500)}if(c.pluginType==="native"){c.$media.width("100%").height("100%")}else{c.container.find("object embed").width("100%").height("100%");c.media.setVideoSize(a(window).width(),a(window).height())}c.layers.children("div").width("100%").height("100%");if(c.fullscreenBtn){c.fullscreenBtn.removeClass("mejs-fullscreen").addClass("mejs-unfullscreen")}c.setControlsSize();c.isFullScreen=true},exitFullScreen:function(){var b=this;if(b.media.pluginType!=="native"&&mejs.MediaFeatures.isFirefox){b.media.setFullscreen(false);return}if(mejs.MediaFeatures.hasTrueNativeFullScreen&&(mejs.MediaFeatures.isFullScreen()||b.isFullScreen)){mejs.MediaFeatures.cancelFullScreen()}document.documentElement.style.overflow=docStyleOverflow;b.container.removeClass("mejs-container-fullscreen").width(normalWidth).height(normalHeight);if(b.pluginType==="native"){b.$media.width(normalWidth).height(normalHeight)}else{b.container.find("object embed").width(normalWidth).height(normalHeight);b.media.setVideoSize(normalWidth,normalHeight)}b.layers.children("div").width(normalWidth).height(normalHeight);b.fullscreenBtn.removeClass("mejs-unfullscreen").addClass("mejs-fullscreen");b.setControlsSize();b.isFullScreen=false}})})(mejs.$);(function(a){a.extend(mejs.MepDefaults,{startLanguage:"",translations:[],translationSelector:false,googleApiKey:"",tracksText:"Captions/Subtitles"});a.extend(MediaElementPlayer.prototype,{hasChapters:false,buildtracks:function(f,b,h,g){if(!f.isVideo){return}if(f.tracks.length==0){return}var e=this,d,c="";f.chapters=a('<div class="mejs-chapters mejs-layer"></div>').prependTo(h).hide();f.captions=a('<div class="mejs-captions-layer mejs-layer"><div class="mejs-captions-position"><span class="mejs-captions-text"></span></div></div>').prependTo(h).hide();f.captionsText=f.captions.find(".mejs-captions-text");f.captionsButton=a('<div class="mejs-button mejs-captions-button"><button type="button" aria-controls="'+e.id+'" title="'+e.options.tracksText+'"></button><div class="mejs-captions-selector"><ul><li><input type="radio" name="'+f.id+'_captions" id="'+f.id+'_captions_none" value="none" checked="checked" /><label for="'+f.id+'_captions_none">None</label></li></ul></div></div>').appendTo(b).hover(function(){a(this).find(".mejs-captions-selector").css("visibility","visible")},function(){a(this).find(".mejs-captions-selector").css("visibility","hidden")}).delegate("input[type=radio]","click",function(){lang=this.value;if(lang=="none"){f.selectedTrack=null}else{for(d=0;d<f.tracks.length;d++){if(f.tracks[d].srclang==lang){f.selectedTrack=f.tracks[d];f.captions.attr("lang",f.selectedTrack.srclang);f.displayCaptions();break}}}});if(!f.options.alwaysShowControls){f.container.bind("mouseenter",function(){f.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover")}).bind("mouseleave",function(){if(!g.paused){f.container.find(".mejs-captions-position").removeClass("mejs-captions-position-hover")}})}else{f.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover")}f.trackToLoad=-1;f.selectedTrack=null;f.isLoadingTrack=false;if(f.tracks.length>0&&f.options.translations.length>0){for(d=0;d<f.options.translations.length;d++){f.tracks.push({srclang:f.options.translations[d].toLowerCase(),src:null,kind:"subtitles",entries:[],isLoaded:false,isTranslation:true})}}for(d=0;d<f.tracks.length;d++){if(f.tracks[d].kind=="subtitles"){f.addTrackButton(f.tracks[d].srclang,f.tracks[d].isTranslation)}}f.loadNextTrack();g.addEventListener("timeupdate",function(j){f.displayCaptions()},false);g.addEventListener("loadedmetadata",function(j){f.displayChapters()},false);f.container.hover(function(){if(f.hasChapters){f.chapters.css("visibility","visible");f.chapters.fadeIn(200)}},function(){if(f.hasChapters&&!g.paused){f.chapters.fadeOut(200,function(){a(this).css("visibility","hidden");a(this).css("display","block")})}});if(f.node.getAttribute("autoplay")!==null){f.chapters.css("visibility","hidden")}if(f.options.translationSelector){for(d in mejs.language.codes){c+='<option value="'+d+'">'+mejs.language.codes[d]+"</option>"}f.container.find(".mejs-captions-selector ul").before(a('<select class="mejs-captions-translations"><option value="">--Add Translation--</option>'+c+"</select>"));f.container.find(".mejs-captions-translations").change(function(){var j=a(this);lang=j.val();if(lang!=""){f.tracks.push({srclang:lang,src:null,entries:[],isLoaded:false,isTranslation:true});if(!f.isLoadingTrack){f.trackToLoad--;f.addTrackButton(lang,true);f.options.startLanguage=lang;f.loadNextTrack()}}})}},loadNextTrack:function(){var b=this;b.trackToLoad++;if(b.trackToLoad<b.tracks.length){b.isLoadingTrack=true;b.loadTrack(b.trackToLoad)}else{b.isLoadingTrack=false}},loadTrack:function(c){var d=this,b=d.tracks[c],e=function(){b.isLoaded=true;d.enableTrackButton(b.srclang);d.loadNextTrack()};if(b.isTranslation){mejs.TrackFormatParser.translateTrackText(d.tracks[0].entries,d.tracks[0].srclang,b.srclang,d.options.googleApiKey,function(f){b.entries=f;e()})}else{a.ajax({url:b.src,success:function(f){b.entries=mejs.TrackFormatParser.parse(f);e();if(b.kind=="chapters"&&d.media.duration>0){d.drawChapters(b)}},error:function(){d.loadNextTrack()}})}},enableTrackButton:function(c){var b=this;b.captionsButton.find("input[value="+c+"]").prop("disabled",false).siblings("label").html(mejs.language.codes[c]||c);if(b.options.startLanguage==c){a("#"+b.id+"_captions_"+c).click()}b.adjustLanguageBox()},addTrackButton:function(e,d){var c=this,b=mejs.language.codes[e]||e;c.captionsButton.find("ul").append(a('<li><input type="radio" name="'+c.id+'_captions" id="'+c.id+"_captions_"+e+'" value="'+e+'" disabled="disabled" /><label for="'+c.id+"_captions_"+e+'">'+b+((d)?" (translating)":" (loading)")+"</label></li>"));c.adjustLanguageBox();c.container.find(".mejs-captions-translations option[value="+e+"]").remove()},adjustLanguageBox:function(){var b=this;b.captionsButton.find(".mejs-captions-selector").height(b.captionsButton.find(".mejs-captions-selector ul").outerHeight(true)+b.captionsButton.find(".mejs-captions-translations").outerHeight(true))},displayCaptions:function(){if(typeof this.tracks=="undefined"){return}var d=this,c,b=d.selectedTrack;if(b!=null&&b.isLoaded){for(c=0;c<b.entries.times.length;c++){if(d.media.currentTime>=b.entries.times[c].start&&d.media.currentTime<=b.entries.times[c].stop){d.captionsText.html(b.entries.text[c]);d.captions.show();return}}d.captions.hide()}else{d.captions.hide()}},displayChapters:function(){var c=this,b;for(b=0;b<c.tracks.length;b++){if(c.tracks[b].kind=="chapters"&&c.tracks[b].isLoaded){c.drawChapters(c.tracks[b]);c.hasChapters=true;break}}},drawChapters:function(f){var c=this,b,d,e=0,g=0;c.chapters.empty();for(b=0;b<f.entries.times.length;b++){d=f.entries.times[b].stop-f.entries.times[b].start;e=Math.floor(d/c.media.duration*100);if(e+g>100||b==f.entries.times.length-1&&e+g<100){e=100-g}c.chapters.append(a('<div class="mejs-chapter" rel="'+f.entries.times[b].start+'" style="left: '+g.toString()+"%;width: "+e.toString()+'%;"><div class="mejs-chapter-block'+((b==f.entries.times.length-1)?" mejs-chapter-block-last":"")+'"><span class="ch-title">'+f.entries.text[b]+'</span><span class="ch-time">'+mejs.Utility.secondsToTimeCode(f.entries.times[b].start)+"&ndash;"+mejs.Utility.secondsToTimeCode(f.entries.times[b].stop)+"</span></div></div>"));g+=e}c.chapters.find("div.mejs-chapter").click(function(){c.media.setCurrentTime(parseFloat(a(this).attr("rel")));if(c.media.paused){c.media.play()}});c.chapters.show()}});mejs.language={codes:{af:"Afrikaans",sq:"Albanian",ar:"Arabic",be:"Belarusian",bg:"Bulgarian",ca:"Catalan",zh:"Chinese","zh-cn":"Chinese Simplified","zh-tw":"Chinese Traditional",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch",en:"English",et:"Estonian",tl:"Filipino",fi:"Finnish",fr:"French",gl:"Galician",de:"German",el:"Greek",ht:"Haitian Creole",iw:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",ga:"Irish",it:"Italian",ja:"Japanese",ko:"Korean",lv:"Latvian",lt:"Lithuanian",mk:"Macedonian",ms:"Malay",mt:"Maltese",no:"Norwegian",fa:"Persian",pl:"Polish",pt:"Portuguese",ro:"Romanian",ru:"Russian",sr:"Serbian",sk:"Slovak",sl:"Slovenian",es:"Spanish",sw:"Swahili",sv:"Swedish",tl:"Tagalog",th:"Thai",tr:"Turkish",uk:"Ukrainian",vi:"Vietnamese",cy:"Welsh",yi:"Yiddish"}};mejs.TrackFormatParser={pattern_identifier:/^([a-zA-z]+-)?[0-9]+$/,pattern_timecode:/^([0-9]{2}:[0-9]{2}:[0-9]{2}([,.][0-9]{1,3})?) --\> ([0-9]{2}:[0-9]{2}:[0-9]{2}([,.][0-9]{3})?)(.*)$/,split2:function(c,b){return c.split(b)},parse:function(g){var e=0,d=this.split2(g,/\r?\n/),c={text:[],times:[]},b,f;for(;e<d.length;e++){if(this.pattern_identifier.exec(d[e])){e++;b=this.pattern_timecode.exec(d[e]);if(b&&e<d.length){e++;f=d[e];e++;while(d[e]!==""&&e<d.length){f=f+"\n"+d[e];e++}c.text.push(f);c.times.push({start:mejs.Utility.timeCodeToSeconds(b[1]),stop:mejs.Utility.timeCodeToSeconds(b[3]),settings:b[5]})}}}return c},translateTrackText:function(f,j,e,g,h){var b={text:[],times:[]},c,d;this.translateText(f.text.join(" <a></a>"),j,e,g,function(k){c=k.split("<a></a>");for(d=0;d<f.text.length;d++){b.text[d]=c[d];b.times[d]={start:f.times[d].start,stop:f.times[d].stop,settings:f.times[d].settings}}h(b)})},translateText:function(k,f,d,c,j){var m,e=[],h,b=1000,l="",g=function(){if(e.length>0){h=e.shift();mejs.TrackFormatParser.translateChunk(h,f,d,c,function(n){if(n!="undefined"){l+=n}g()})}else{j(l)}};while(k.length>0){if(k.length>b){m=k.lastIndexOf(".",b);e.push(k.substring(0,m));k=k.substring(m+1)}else{e.push(k);k=""}}g()},translateChunk:function(e,g,c,d,f){var b={q:e,langpair:g+"|"+c,v:"1.0"};if(d!==""&&d!==null){b.key=d}a.ajax({url:"https://ajax.googleapis.com/ajax/services/language/translate",data:b,type:"GET",dataType:"jsonp",success:function(h){f(h.responseData.translatedText)},error:function(h){f(null)}})}};if("x\n\ny".split(/\n/gi).length!=3){mejs.TrackFormatParser.split2=function(f,d){var e=[],b="",c;for(c=0;c<f.length;c++){b+=f.substring(c,c+1);if(d.test(b)){e.push(b.replace(d,""));b=""}}e.push(b);return e}}})(mejs.$);(function(a){a.extend(mejs.MepDefaults,contextMenuItems=[{render:function(b){if(typeof b.enterFullScreen=="undefined"){return null}if(b.isFullScreen){return"Turn off Fullscreen"}else{return"Go Fullscreen"}},click:function(b){if(b.isFullScreen){b.exitFullScreen()}else{b.enterFullScreen()}}},{render:function(b){if(b.media.muted){return"Unmute"}else{return"Mute"}},click:function(b){if(b.media.muted){b.setMuted(false)}else{b.setMuted(true)}}},{isSeparator:true},{render:function(b){return"Download Video"},click:function(b){window.location.href=b.media.currentSrc}}]);a.extend(MediaElementPlayer.prototype,{buildcontextmenu:function(c,b,e,d){c.contextMenu=a('<div class="mejs-contextmenu"></div>').appendTo(a("body")).hide();c.container.bind("contextmenu",function(f){if(c.isContextMenuEnabled){f.preventDefault();c.renderContextMenu(f.clientX-1,f.clientY-1);return false}});c.container.bind("click",function(){c.contextMenu.hide()});c.contextMenu.bind("mouseleave",function(){c.startContextMenuTimer()})},isContextMenuEnabled:true,enableContextMenu:function(){this.isContextMenuEnabled=true},disableContextMenu:function(){this.isContextMenuEnabled=false},contextMenuTimeout:null,startContextMenuTimer:function(){var b=this;b.killContextMenuTimer();b.contextMenuTimer=setTimeout(function(){b.hideContextMenu();b.killContextMenuTimer()},750)},killContextMenuTimer:function(){var b=this.contextMenuTimer;if(b!=null){clearTimeout(b);delete b;b=null}},hideContextMenu:function(){this.contextMenu.hide()},renderContextMenu:function(b,j){var g=this,f="",d=g.options.contextMenuItems;for(var e=0,c=d.length;e<c;e++){if(d[e].isSeparator){f+='<div class="mejs-contextmenu-separator"></div>'}else{var h=d[e].render(g);if(h!=null){f+='<div class="mejs-contextmenu-item" data-itemindex="'+e+'" id="element-'+(Math.random()*1000000)+'">'+h+"</div>"}}}g.contextMenu.empty().append(a(f)).css({top:j,left:b}).show();g.contextMenu.find(".mejs-contextmenu-item").each(function(){var k=a(this),l=parseInt(k.data("itemindex"),10),m=g.options.contextMenuItems[l];if(typeof m.show!="undefined"){m.show(k,g)}k.click(function(){if(typeof m.click!="undefined"){m.click(g)}g.contextMenu.hide()})});setTimeout(function(){g.killControlsTimer("rev3")},100)}})})(mejs.$);(function(b){b.fn.relativeTime=function(){this.each(function(d,c){new a(b(c))})};b.relativeTime={monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"]};function a(c){var d=this;this.el=c;this.parseDateString();this.updateText();setInterval(function(){d.updateText()},10000)}a.prototype={parseDateString:function(){var c=b.trim(this.el.attr("datetime"));c=c.replace(/\.\d\d\d+/,"");c=c.replace(/-/,"/").replace(/-/,"/");c=c.replace(/T/," ").replace(/Z/," UTC");c=c.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2");this.date=new Date(c)},updateDelta:function(){var f=(new Date().getTime()-this.date.getTime()),g=Math.floor(f/1000),e=Math.floor(g/60),c=Math.floor(e/60),h=Math.floor(c/24),d=Math.floor(h/365);this.delta={seconds:g,minutes:e,hours:c,days:h,years:d}},getTimeString:function(){var e=this.date,g=this.delta,f=b.relativeTime.monthNames[e.getMonth()],c=this.toOrdinal(e.getDate());if(g.days>0){if(g.days<5){return g.days+" days ago"}else{if(g.days>365){return f+" "+c+", "+e.getFullYear()}else{return f+" "+c}}}else{if(g.seconds<4){return"Just now"}else{if(g.seconds<60){return g.seconds+" seconds ago"}else{if(g.minutes<60){return g.minutes+(g.minutes>1?" minutes":" minute")+" ago"}else{return g.hours+(g.hours>1?" hours":" hour")+" ago"}}}}},toOrdinal:function(c){var d;if(c>=4&&c<=24||c>=24&&c<=30){d="th"}else{d=["st","nd","rd"][c%10-1]}return c+d},updateText:function(){this.updateDelta();this.el.html(this.getTimeString());return}}}(jQuery));window.Ply={VERSION:"0.2.4"};Ply.core=(function(c){var b={},a=false;return{notify:function(g,f,j){var h=b[g]||(b[g]=[]),e=0,d=h.length;for(;e<d;e++){h[e].handler.call(h[e].listener,g,f,j)}},listen:function(k,g,j){var h=b[k]||(b[k]=[]),f=k.split(/\s/),d=f.length,e=0;if(d>1){for(;e<d;e++){this.listen(f[e],g,j)}return}h.push({handler:g,listener:j})},log:function(e,d){if(!a){return}if(window.console){switch(d){case"warn":console.warn(e);break;case"info":console.info(e);break;default:console.log(e);break}}},error:function(d,e){if(Ply.config.core.onError&&typeof Ply.config.core.onError==="function"){Ply.config.core.onError(d,e);return}throw d},debug:function(d){a=d||true;if(a){this.log("debugging...","info");this.debugOn=true}else{this.debugOn=false}},debugOn:function(){return !!a}()}})(jQuery);Ply.ajax=(function(a){return{request:function(g,j,c){var f=g||{},e=f.type||"GET",b=f.url||"",h=f.data||{};if(Ply.core.debugOn){h.debug=true}try{return a.ajax({type:e,url:b,data:h,success:function(l,k,m){if(j&&typeof j==="function"){j(l,k,m)}},error:function(m,k,l){Ply.core.log("AjaxError: "+k+" - "+b,"warn");Ply.core.error({name:"AjaxError",message:"Status: "+k,description:"URL: "+b},1);if(c&&typeof c==="function"){c(m,k,l)}}})}catch(d){Ply.core.log(d.message);Ply.core.error(d,1)}}}})(jQuery);Ply.read=(function(){return{add:function(b,a){if(typeof b==="object"){for(var c in b){if(b.hasOwnProperty(c)){Ply.read.add(c,b[c])}}return}this[b]=function(e,f,d){return Ply.ajax.request({url:a,type:"GET",data:e},f,d)}}}})();if(!Object.create){Object.create=function(b){if(arguments.length>1){throw new Error("Object.create implementation only accepts first parameter.")}function a(){}a.prototype=b;return new a()}}Ply.ui=(function(b){function a(f,c,e,j,h){var d=this;this.name=f;this.view=c;this.delegate=h;this.options=b.extend({},Ply.config.ui.defaults,this.options,e);this.data=b.extend({},this.data,j);if(this.__objects){this.objects={};this.__bindObjects=function(){for(var k in d.__objects){if(d.__objects.hasOwnProperty(k)){d.objects[k]=d.view.find(d.__objects[k])}}};this.__bindObjects()}if(this.__partials){this.partials={};this.__bindPartials=function(){for(var k in d.__partials){if(d.__partials.hasOwnProperty(k)&&d.objects[k]&&d.objects[k].length){d.partials[k]=Ply.ui.register(d.__partials[k],{view:d.objects[k],delegate:d})}}};this.__bindPartials()}if(this.__notifications){for(var g in this.__notifications){if(this.__notifications.hasOwnProperty(g)){Ply.core.listen(g,this[this.__notifications[g]],this)}}}if(this.__init&&typeof this.__init==="function"){this.__init()}return this}return{fn:{},define:function(e,d){var c=this,f=Ply.config.ui.base||{};if(!Ply.read[e]){Ply.read.add(e,d.__url||Ply.config.read.urlGenerator(e))}this.fn[e]=function(g,h,k,j){return a.call(Object.create(c.fn[e].impl),e,g,h,k,j)};this.fn[e].impl=b.extend(Object.create(f),d);this.fn[e].impl.read=Ply.read[e]},register:function(e,d){var c=Ply.config.ui;d=d&&typeof d==="object"?d:{};if(c.onRegister&&typeof c.onRegister==="function"){if(c.onRegister(e,d)===false){return}}if(!d.view){d.view=c.selectorGenerator(e);Ply.core.log("No view name supplied, implying: "+d.view)}return this.start(e,d)},start:function(c,e){Ply.core.log("trying start: "+c,"info");try{return this.fn[c](b(e.view),e.options,e.data,e.delegate)}catch(d){Ply.core.log(c+" failed to start.");Ply.core.error(d,1);if(Ply.core.debugOn){throw d}}}}})(jQuery);Ply.config=(function(a){return{core:{onError:function(b,c){a.post("/error/logclienterror",{name:b.name,description:b.description,message:b.message,lineNumber:b.lineNumber,stackTrace:b.stack});if(c>1){alert("An error has occurred. Please refresh your browser")}}},read:{urlGenerator:function(b){return"/"+b.replace("_","/").replace("-","").toLowerCase()}},ui:{base:{},defaults:{},selectorGenerator:function(c){var d=c.match(/[A-Z]?[a-z]+/g).join("_").toLowerCase(),b=d.split("_")[0];d=b+"_"+d.substr(b.length+1).replace("_","-");return".view-"+d+", ."+d},onRegister:function(c,b){if(b.modal){b.modal=typeof b.modal==="object"?b.modal:{};a.modal(b.view,{containerId:b.modal.containerId,dataClass:b.modal.dataClass,maxWidth:b.modal.maxWidth||300,maxHeight:b.modal.maxHeight,updateOnOpen:b.modal.updateOnOpen,onShow:function(d){b.view=d.data;Ply.ui.start(c,b);d.data.delegate(".modal-close","click",function(f){f.preventDefault();a.modal.close()})}})}return}}}})(jQuery);(function(a){Ply.ui.define("shared",{__init:function(){this.tooltips();this.links();this.forms();return},__objects:{header:".shared_header",tooltips:".tooltip-target"},__partials:{header:"shared_header"},tooltips:function(){this.view.delegate(".tooltip-target","hover",function(d){var b=a(this),c=b.find(".tooltip-block"),e=parseInt(c.css("top"),10);b.hoverIntent(function(){c.stop(true,true).css({display:"block",position:"absolute",top:e+5+"px"}).animate({top:e+"px",opacity:1},100)},function(){c.stop(true,true).animate({top:e-15+"px",opacity:0},200,function(){c.css({display:"none",position:"static",top:e+"px"})})}).hover(function(f){f.stopPropagation()},function(f){f.stopPropagation()});b.trigger(d)});return},links:function(){this.view.delegate("a[rel~=external]","click",function(b){b.preventDefault();console.log(this.rel);window.open(this.href)});return},forms:function(){this.view.find("input.submit").each(function(){var c=a(this),b=a('<div class="click-target" />');b.click(function(d){b.closest("form").submit()});c.after(b);c.bind("keypress",function(d){if(d.keyCode===13){d.preventDefault();a(d.currentTarget.form).submit()}})});return}})}(jQuery));(function(b,a){Ply.ui.define("shared_header",{__init:function(){this.events();this.forms();return},__objects:{actions:".action-a",actionDownload:".action-download",actionSignin:".action-user",actionUser:".action .user",forms:"form",submitFields:".field-submit",phoneConfirmation:".action-download .confirmation"},__notifications:{"authentication-required":"openSigninModal"},events:function(){var c=this,d=c.objects,e;if(!a.isMobile){d.actions.click(function(f){f.preventDefault();f.stopPropagation();c.toggleModal(b(this).parent())});this.view.find(".action-tray").click(function(f){f.stopPropagation()});b(document.body).click(function(){c.view.find(".action").removeClass("action-active")})}d.actionUser.parent().each(function(){var f=b(this);f.hover(function(){clearTimeout(e);f.addClass("action-active")},function(){e=setTimeout(function(){f.removeClass("action-active")},600)})});return},openSigninModal:function(){var c=this.objects;if(a.isMobile){return(window.location=c.actionSignin.find("a")[0].href)}this.toggleModal(c.actionSignin,"open");return},toggleModal:function(c,d){c.siblings().removeClass("action-active");if(d&&d==="open"){c.addClass("action-active")}else{if(d&&d==="close"){c.removeClass("action-active")}else{c.toggleClass("action-active")}}if(c.hasClass("action-active")){c.find("input:first").focus()}return},forms:function(){var c=this,d=c.objects;c.objects.submitFields.bind("keypress",function(f){if(f.keyCode===13){f.preventDefault();b(f.currentTarget.form).submit()}});c.view.find(".phone-form").submit(function(){var g=b(this).find("input[name=phone]").blur().attr("disabled","disabled"),e=g.val(),f={phone:e};if(a.referrer){f.referrer=a.referrer}if(a.referrerId){f.referrer_id=a.referrerId}b.ajax({type:"POST",url:this.action,data:f,success:function(){d.phoneConfirmation.find(".phone-number").html(e);d.phoneConfirmation.fadeIn();g.removeAttr("disabled").val("");setTimeout(function(){c.toggleModal(d.actionDownload,"close");d.phoneConfirmation.hide()},2000)}});return false});return}})}(jQuery,jQuery(document.body).data()));(function(b,a){Ply.ui.define("home_index",{__init:function(){this.background();this.videos();this.getApp();this.forms()},__objects:{background:".video-background",videoStills:".video-still",videoModal:".video-modal",videoContainer:".video-container",getAppButton:".app-download-button",textModal:".text-modal"},background:function(){var c=this,g=c.objects,e={h264:(document.location.protocol==="https:"?"https:":"http:")+"//www.studentsangel.com/pre/path/sa-720p.m4v"},f,d;if(Modernizr.video.h264){f=e.h264}else{return}d=g.videoBackground=b('<video src="'+f+'" poster="'+document.location.protocol+'//www.studentsangel.com/pre/path/video-start.jpg" preload width="1920" height="1080" class="media"></video>');d.insertBefore(g.background.find(".overlay"));setTimeout(function(){d[0].play()},1000);return},startBackgroundVideo:function(){var c=this,d=this.objects.videoBackground;console.log("startBackgroundVideo");if(!this.modalPresented){console.log("Modal not presented",d[0].readyState);if(d[0].readyState!==4){console.log("Video not ready");return}console.log("Video ready");d[0].play();d.bind("canplay",function(){console.log("video is ready");c.startBackgroundVideo()})}return},videos:function(){var c=this,d=c.objects;d.videoStills.click(function(){c.showVideoModal(b(this).data("videoId"))});if(document.location.hash.indexOf("demo")>-1){this.view.find(".video-demo .video-still").click()}if(document.location.hash.indexOf("ad")>-1){this.view.find(".video-share-life .video-still").click()}d.videos={"share-life":this.view.find("iframe.video-share-life").clone(),demo:this.view.find("iframe.video-demo").clone()};d.videos.demo[0].src+="&autoplay=true";d.videos["share-life"][0].src+="&autoplay=true";return},showVideoModal:function(d){var c=this,e=c.objects;c.pauseVideo();c.modalPresented=true;e.videoModal.fadeIn(400,"easeInCubic",function(){e.videoModal.click(function(){c.hideVideoModal()});e.videoContainer.fadeIn(500,"easeInCubic");e.videoContainer.html(e.videos[d])});return},hideVideoModal:function(){var c=this,d=c.objects;c.modalPresented=false;c.resumeVideo();d.videoModal.unbind().fadeOut(400,"easeOutCubic",function(){d.videoContainer.html("")});return},pauseVideo:function(){if(!this.objects.videoBackground){return}this.objects.videoBackground[0].pause();this.objects.videoBackground.removeAttr("autoplay")},resumeVideo:function(){if(!this.objects.videoBackground){return}var c=this.objects.videoBackground[0];if(!c.ended){c.play()}},getApp:function(){var c=this,d=this.objects;d.getAppButton.click(function(g){if(this.href.indexOf("#")>-1){g.preventDefault()}else{return}var f=b(this).parent();if(f.hasClass("app-download-focused")){c.fadeTextModalOut()}else{c.fadeTextModalIn()}})},fadeTextModalIn:function(){var d=this.objects,c=d.getAppButton.parent();c.addClass("app-download-focused");this.view.find("#phone").focus()},fadeTextModalOut:function(){var d=this.objects,c=d.getAppButton.parent();d.textModal.fadeOut(200,function(){c.removeClass("app-download-focused");b(this).find(".form").show();b(this).find(".confirmation").hide()})},forms:function(){var c=this,e=c.objects.textModal.find(".form"),d=c.objects.textModal.find(".confirmation");c.view.find(".phone-form").submit(function(g){g.preventDefault();var h=b(this).find("input[name=phone]").blur().attr("disabled","disabled"),f=h.val();b.ajax({type:"POST",url:this.action,data:{referrer:"homepage",phone:f},success:function(){e.hide();d.find(".phone-number").html(f);d.fadeIn();h.removeAttr("disabled").val("");setTimeout(function(){c.fadeTextModalOut()},3000)}})});return}})}(jQuery,jQuery(document.body).data()));(function(a){Ply.ui.define("moments_show",{__objects:{feedback:".moments_feedback",music:".moments_music",video:".moments_video"},__partials:{feedback:"moments_feedback",music:"moments_music",video:"moments_video"}})}(jQuery));Ply.ui.define("moments_music",{options:{canvasWidth:52,canvasHeight:52,radius:23},__init:function(){this.setupCanvas();this.audio();return},__objects:{controls:".music-controls",playButton:".music-play-control",progressHolder:".music-progress-holder",audio:"audio"},setupCanvas:function(){var d=this.objects,c=this.options,a=c.canvasWidth/2,e=c.canvasHeight/2,b=c.radius;d.canvas=Raphael(d.progressHolder[0],c.canvasWidth,c.canvasHeight);d.canvas.customAttributes.arc=function(j,h){j=Math.min(h,j);var l=360/h*j,g=(90-l)*Math.PI/180,f=a+b*Math.cos(g),m=e-b*Math.sin(g),k;if(h===j){return}k=[["M",a,e-b],["A",b,b,0,+(l>180),1,f,m]];return{path:k,opacity:1}};d.progress=d.canvas.path().attr({stroke:"#fff","stroke-width":5}).attr({arc:[0,60,c.radius]});return},audio:function(){var d=this.objects,a=d.audio,b=a[0],c;if(Modernizr.audio.m4a){d.controls.fadeIn()}d.playButton.click(function(f){f.preventDefault();if(b.paused||b.ended){b.play();a.trigger("play")}else{b.pause()}});a.bind("timeupdate",function(){d.progress.stop().animate({opacity:1,arc:[b.currentTime+0.9,b.duration]},900,">")});a.bind("play",function(){d.controls.addClass("music-controls-playing");clearTimeout(c)});a.bind("pause ended",function(){d.controls.removeClass("music-controls-playing")});a.bind("ended",function(){d.progress.animate({opacity:0,arc:[0,b.duration]},1000,">")});return}});(function(b,a){Ply.ui.define("moments_feedback",{__init:function(){this.comments();this.emotions();this.seenIts();this.updateTimestamps();return},__objects:{seenIts:".seen-it-set",comments:".comment-set",commentBlocker:".comment-blocker",commentBox:".comment-box",commentField:".comment-field",commentSizer:".comment-sizer",commentForm:".comment-form",commentButton:".action-comment",emotionButton:".action-emotion",emotionPicker:".emotion-picker-box",seenItContainer:".seen-it-container",seenItToggle:".seen-it-toggle"},comments:function(){var c=this,e=this.objects,d=e.commentSizer[0];e.commentForm.submit(function(f){f.preventDefault();c.submitComment()});e.commentButton.click(function(f){f.preventDefault();if(!a.currentUser){f.stopPropagation();Ply.core.notify("authentication-required");return}e.commentField.focus()});e.commentField.focus(function(){c.focusCommentField()}).blur(function(){c.blurCommentField()}).bind("keyup keydown change",function(){d.innerHTML=this.value.replace(/\n/g,"<br />")+"&nbsp;&nbsp;"||"&nbsp;"}).bind("keydown",function(f){if(f.keyCode===13){f.preventDefault();e.commentForm.submit()}});e.commentBlocker.click(function(f){f.stopPropagation();Ply.core.notify("authentication-required")});return},focusCommentField:function(){this.objects.commentBox.addClass("comment-box-focused")},blurCommentField:function(){var c=this.objects;if(c.commentField[0].value===""){c.commentBox.removeClass("comment-box-focused")}},seenIts:function(){var c=this,d=this.objects;d.seenItToggle.click(function(){if(d.seenItContainer.hasClass("expanded")){c.collapseSeenItContainer()}else{c.expandSeenItContainer()}});return},expandSeenItContainer:function(){var c=this.objects;c.seenItContainer.css({height:88,overflow:"hidden"}).addClass("expanded").stop(true,true).animate({height:c.seenIts.outerHeight()},300,"easeOutCubic",function(){c.seenItContainer.css({height:"auto",overflow:"visible"})});c.seenItToggle.animate({opacity:0},50,"easeOutCubic").delay(200).animate({opacity:1},200,"easeOutCubic");return},collapseSeenItContainer:function(){var c=this.objects;c.seenItContainer.stop(true,true).animate({height:88},300,"easeOutCubic",function(){c.seenItContainer.removeClass("expanded")});c.seenItToggle.animate({opacity:0},50,"easeOutCubic").delay(200).animate({opacity:1},200,"easeOutCubic");return},emotions:function(){var c=this,d=this.objects;d.emotionButton.click(function(f){f.preventDefault();if(!a.currentUser){f.stopPropagation();Ply.core.notify("authentication-required");return}if(!d.emotionPicker.hasClass("emotion-picker-box-visible")){f.stopPropagation();c.openEmotionPicker()}});d.emotionPicker.find(".emotion-icon-a").click(function(f){f.preventDefault();c.submitEmotion(b(this).data("emotionType"))});b(document.body).click(function(){c.closeEmotionPicker()});return},openEmotionPicker:function(){var c=this.objects;c.emotionButton.addClass("action-active");c.emotionPicker.removeClass("emotion-picker-box-hidden").addClass("emotion-picker-box-visible").find(".emotion-icon").bind("webkitAnimationEnd mozAnimationEnd",function(){this.style.visibility="visible"}).each(function(d){var e=b(this);setTimeout(function(f){e.css("visibility","visible").addClass("emotion-icon-visible")},100+70*d)});return},closeEmotionPicker:function(){var c=this.objects;c.emotionButton.removeClass("action-active");c.emotionPicker.removeClass("emotion-picker-box-visible").addClass("emotion-picker-box-hidden").bind("webkitAnimationEnd mozAnimationEnd",function(){this.style.display="none"}).find(".emotion-icon").removeClass("emotion-icon-visible").css({visibility:"hidden"});return},submitEmotion:function(c){var d=this,e=d.objects;e.emotionButton.find("b").removeClass().addClass(c);Ply.ajax.request({url:"/emotions/create",type:"POST",data:{type:c,moment_id:this.objects.commentForm[0].moment_id.value}},function(f){d.updateEmotions(f)});return},submitComment:function(){var d=this,e=d.objects,c=e.commentForm;Ply.ajax.request({url:"/comments/create",type:"POST",data:{moment_id:c[0].moment_id.value,body:c[0].body.value}},function(f){d.updateComments(f);e.commentField.val("").change().blur()});return},updateEmotions:function(d){var c=b(d).find(".seen-it-set").html();this.objects.seenIts.html(c);return},updateComments:function(c){var d=b(c).find(".comment-set").html();this.objects.comments.html(d);this.updateTimestamps();return},updateTimestamps:function(){this.view.find(".timestamp").relativeTime();return}})}(jQuery,jQuery(document.body).data()));(function(a){Ply.ui.define("moments_video",{__init:function(){this.video();return},__objects:{video:"video"},video:function(){this.objects.video.mediaelementplayer({features:["progress"],pluginPath:"/static/media/",flashName:"flash_video.swf",silverlightName:"silverlight_video.xap"});var b=this.view.find(".mejs-container"),c=this.view.find(".video-positioner video")[0];a(window).resize(function(){c.width=b.width();c.height=b.height()}).resize();return}})}(jQuery));(function(a){Ply.ui.define("sessions_login",{__init:function(){this.events();this.boundPopState=false;this.view.find(".block:visible .field:eq(0) input").focus();return},__objects:{blocks:".block",loginBlock:".login-block",loginToggle:".login-toggle",signupBlock:".signup-block",signupToggle:".signup-toggle"},events:function(){var b=this,c=this.objects;c.body=a(document.body);this.objects.loginToggle.click(function(d){d.preventDefault();b.showBlock(c.loginBlock);b.updateState("/login","Sign In")});this.objects.signupToggle.click(function(d){d.preventDefault();b.showBlock(c.signupBlock);b.updateState("/signup","Sign Up")});return},bindPopState:function(){var b=this;if(this.boundPopState){return}if(Modernizr.history){a(window).bind("popstate",function(){b.updateMode()})}this.boundPopState=true;return},showBlock:function(b){this.objects.blocks.hide();b.css({display:"table",opacity:0}).stop(true).animate({opacity:1}).find(".field:eq(0) input").focus();return},updateMode:function(){if(window.location.pathname.indexOf("signup")>-1){this.showBlock(this.objects.signupBlock)}else{this.showBlock(this.objects.loginBlock)}return},updateState:function(b,c){if(Modernizr.history&&window.location.pathname!==b){history.pushState(null,c,b);document.title="Path — "+c;this.bindPopState()}return}})}(jQuery));(function(a){Ply.ui.define("users_settings",{__init:function(){this.events();this.forms()},__objects:{actionCover:".action-cover",coverInput:"input[name=cover_photo]"},events:function(){var b=this;this.view.delegate(".push, .email","click",function(d){var c=a(this),e=c.data("binding"),f=b.view.find("input[name="+e+"]");c.click(function(g){g.stopPropagation();f.click();if(f.is(":checked")){c.addClass("checked")}else{c.removeClass("checked")}});c.trigger(d)});return},forms:function(){var b=this.objects;b.actionCover.click(function(c){c.preventDefault();b.coverInput.click()});b.coverInput.change(function(){a(this).closest("form").submit()})}})}(jQuery));